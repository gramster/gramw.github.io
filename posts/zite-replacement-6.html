<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Building a Zite Replacement (Part 6) | Graham Wheeler's Random Forest</title>
<link href="../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../assets/css/theme.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../assets/css/screen.css">
<link rel="stylesheet" type="text/css" href="../assets/css/nav.css">
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic%7COpen+Sans:700,400%7CInconsolata">
<link href="../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/GrahamWheelersRandomForest">
<link rel="canonical" href="https://www.grahamwheeler.com/posts/zite-replacement-6.html">
<!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]--><meta name="author" content="Graham Wheeler">
<link rel="prev" href="zite-replacement-5.html" title="Building a Zite Replacement (Part 5)" type="text/html">
<link rel="next" href="zite-replacement-7.html" title="Building a Zite Replacement (Part 7)" type="text/html">
<meta property="og:site_name" content="Graham Wheeler's Random Forest">
<meta property="og:title" content="Building a Zite Replacement (Part 6)">
<meta property="og:url" content="https://www.grahamwheeler.com/posts/zite-replacement-6.html">
<meta property="og:description" content='Following on from last episode, I took some of the clusters that had clear cohesion and made some initial category exemplars. Here are the first few:
1
2
3
4
5
6
7{"title": "Art", "terms": ["canvas", '>
<meta property="og:type" content="article">
<meta property="article:published_time" content="2015-09-24T20:31:00-07:00">
</head>
<body class="nav-closed">

<div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
<li class="nav-opened" role="presentation">
            <a href="../index.html">Home</a>
        </li>
        <li class="nav-opened" role="presentation">
            <a href="../archive.html">Archives</a>
        </li>
        <li class="nav-opened" role="presentation">
            <a href="../categories/index.html">Tags</a>
        </li>
        <li class="nav-opened" role="presentation">
            <a href="../rss.xml">RSS</a>
        </li>
        <li class="nav-opened" role="presentation">
            <a href="https://twitter.com/gramnix">My Twitter</a>
        </li>
        <li class="nav-opened" role="presentation">
            <a href="https://github.com/gramster">My Github</a>
        </li>
        <li class="nav-opened" role="presentation">
            <a href="https://www.linkedin.com/in/grahamwheeler">My LinkedIn</a>
        </li>
    
    
    </ul>
</div>
<span class="nav-cover"></span>

<div class="site-wrapper">
    <header class="main-header post-head no-cover"><nav class="main-nav overlay clearfix"><a class="blog-logo" href="https://www.grahamwheeler.com/"><img src="#" alt="Blog Logo"></a>
            <a class="menu-button" href="#"><span class="burger">☰</span><span class="word">Menu</span></a>
        </nav></header><main id="content" class="content" role="main"><article class="post post"><header class="post-header"><h1 class="post-title">Building a Zite Replacement (Part 6)</h1>
        <section class="post-meta"> by
            <a href="../authors/graham-wheeler.html">Graham Wheeler</a>
            on
            <time class="post-date" datetime="2015-09-24T20:31:00-07:00">
                2015-09-24 20:31
            </time></section></header><section class="post-content"><div>
<p>Following on from last episode, I took some of the clusters that had clear cohesion and made some initial category exemplars. Here are the first few:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="p">{</span><span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Art"</span><span class="p">,</span> <span class="s2">"terms"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"canvas"</span><span class="p">,</span> <span class="s2">"painting"</span><span class="p">,</span> <span class="s2">"pastels"</span><span class="p">,</span> <span class="s2">"sculpture"</span><span class="p">,</span> <span class="s2">"gallery"</span><span class="p">,</span> <span class="s2">"photography"</span><span class="p">,</span>
        <span class="s2">"landscape"</span><span class="p">,</span> <span class="s2">"portrait"</span><span class="p">,</span> <span class="s2">"still-life"</span><span class="p">,</span> <span class="s2">"exhibition"</span><span class="p">,</span> <span class="s2">"sketch"</span><span class="p">]}</span>
<span class="p">{</span><span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Literature"</span><span class="p">,</span> <span class="s2">"terms"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"novel"</span><span class="p">,</span> <span class="s2">"writer"</span><span class="p">,</span> <span class="s2">"plot"</span><span class="p">,</span> <span class="s2">"character"</span><span class="p">,</span> <span class="s2">"author"</span><span class="p">]}</span>
<span class="p">{</span><span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Religion"</span><span class="p">,</span> <span class="s2">"terms"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Jesus"</span><span class="p">,</span> <span class="s2">"Christianity"</span><span class="p">,</span> <span class="s2">"Allah"</span><span class="p">,</span> <span class="s2">"Islam"</span><span class="p">,</span> <span class="s2">"Judaism"</span><span class="p">,</span> <span class="s2">"Sufi"</span><span class="p">,</span>
        <span class="s2">"Hindu"</span><span class="p">,</span> <span class="s2">"karma"</span><span class="p">,</span> <span class="s2">"sprituality"</span><span class="p">,</span> <span class="s2">"faith"</span><span class="p">,</span> <span class="s2">"belief"</span><span class="p">,</span> <span class="s2">"priest"</span><span class="p">,</span> <span class="s2">"pastor"</span><span class="p">,</span> <span class="s2">"prayer"</span><span class="p">]}</span>
<span class="p">{</span><span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Cooking"</span><span class="p">,</span> <span class="s2">"terms"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"ingredients"</span><span class="p">,</span> <span class="s2">"bake"</span><span class="p">,</span> <span class="s2">"roast"</span><span class="p">,</span> <span class="s2">"fry"</span><span class="p">,</span> <span class="s2">"stir"</span><span class="p">,</span> <span class="s2">"cook"</span><span class="p">,</span> <span class="s2">"cooking"</span><span class="p">,</span>
        <span class="s2">"recipe"</span><span class="p">,</span> <span class="s2">"flour"</span><span class="p">,</span> <span class="s2">"sugar"</span><span class="p">,</span> <span class="s2">"butter"</span><span class="p">,</span> <span class="s2">"cups"</span><span class="p">,</span> <span class="s2">"cup"</span><span class="p">,</span> <span class="s2">"teaspoon"</span><span class="p">,</span> <span class="s2">"tablespoons"</span><span class="p">,</span> <span class="s2">"vanilla"</span><span class="p">]}</span>
</pre>
</td>
</tr></table>
<p>Note that these are deliberately in the same format as the articles in articles.txt, although without as many fields.</p>
<p>I then modified the code that reads in the articles file and calculates the TF-IDF similarity matrix to first read this file (categories.txt) so that these become the first 4 articles, then I recomputed the matrix.</p>
<p>I then sorted each item by similarity with each of these category items, and printed out the top 20, with:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="kn">import</span> <span class="nn">operator</span>

<span class="k">for</span> <span class="n">category</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
    <span class="k">print</span> <span class="s2">"===</span><span class="se">\n</span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="n">items</span><span class="p">[</span><span class="n">category</span><span class="p">][</span><span class="s1">'title'</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

    <span class="n">metrics</span> <span class="o">=</span> <span class="p">[[</span><span class="n">distance_matrix</span><span class="p">[</span><span class="n">category</span><span class="p">,</span> <span class="n">i</span><span class="p">],</span> <span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">))]</span>
    <span class="n">ranked</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">metrics</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">operator</span><span class="o">.</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">ranked</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">20</span><span class="p">]:</span>
        <span class="k">print</span> <span class="n">items</span><span class="p">[</span><span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]][</span><span class="s1">'title'</span><span class="p">]</span>
</pre>
</td>
</tr></table>
<p>The results are show below although I shortened it to 10 for brevity. As you can see we have good category classification. Obviously though there is a long way to go in adding more category records. One benefit of this approach is that unlike clustering, an item can occur in the top n list for multiple categories, which is desirable.</p>
<pre class="code literal-block"><span></span>ART
“Tapestry Hill,” contemporary landscape painting
Sailing off King Billie, oil painting on box canvas
Alcarte 2014 - Collective Exhibition
Contemporary cat painting “Feline Focus”
butterfly painting tutorial
"Two deckchairs" oil painting
Comment on Liverpool residents take a shot at creating the city’s biggest online photography exhibition by Debra Kurs
Exhibition Site
First portrait painting in oil paint (2nd stage) tutor Colin Pethick.
First portrait painting in oils, workshop with Colin Pethick (1st stage)
===
LITERATURE
Agent Orange
Gauntlet
In Which I Contemplate the Details
Author Kurt Andersen Pens Novel with PWD Perspective
Donald Trump will publish a new book in October. Will it be huuuge?
Comment on Book Review: Echo by Pam Muñoz Ryan by Anonymous
Comment on Writing Your Novel: Become Your Best First Editor by Writing Fiction Made Easier: Get Out Of Backstory Hell
PRATIBIMB - BOOK COVER PAGE DESIGN for India's young and dynamic writer Dr. Bhavesh Joshi (Bharavi).
What Is Best in Life?
Comment on LADIES AND GENTLEMEN… by eva
===
RELIGION
Comment on Children, a gift of Allah! by www.alquranonlinelearning.com
Marble Church Sermon
I hated Islam
Susan Carland - journey to Islam
Lauren Booth - My journey to Islam
Bart Ehrman - Jesus and Contradictions In The Bible
Convert to Islam 2013
Dr. Geoff Tunnicliffe - faith leaders on the forefront
Ten Reasons why Jesus (upon him peace) is not God
Islamic beliefs – Islam – ????? ????????
===
COOKING
Blueberry Pie Recipe
4th of July BBQ Hot Dog Cupcakes
Upside-Down Cake Recipe
Chocolate Ovaltine snacking cake - easy to make and delicious
Comment on Instant Raw Applesauce by 5 Things You Can Make In Your Blender That Aren't SmoothiesMy Weight Loss Blog | My Weight Loss Blog
Comment on Lemon Chiffon Cake Recipe by Katie
Cooking up a storm with our Crisis Program Cooking Group
Thai Basil Chicken
Skratch Recipe of the Week; Sweet Cream Grits
Comment on Foolproof Yorkshire Pudding Recipe by pearl
</pre>


<p>In summary, we can now take articles, extract a set of key terms, and assign them to one or more categories. There is obviously work to be done, tuning the categories over time and adding many more. One way to determine how to adjust the key terms for existing categories is to look at the top terms across all articles assigned to that category, and add them to the category terms if they aren't already present.</p>
<p>I'll probably be busy with this for a few days but once I have a good working system the next topic will be ranking. Ranking will work best in conjunction with crowdsourcing so I may need to build the system out as far as a simple web front end that can be used as a categorical RSS search engine. Watch this space for future developments!</p>
</div>
    </section><footer class="post-footer"><section class="comments hidden-print"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="randomforest",
            disqus_url="https://www.grahamwheeler.com/posts/zite-replacement-6.html",
        disqus_title="Building a Zite Replacement (Part 6)",
        disqus_identifier="cache/posts/zite-replacement-6.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></footer></article><script>var disqus_shortname="randomforest";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script></main><footer class="site-footer clearfix"><section class="poweredby">Contents © 2017         <a href="mailto:gram@geekraver.com">Graham Wheeler</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </section></footer>
</div>

    <script type="text/javascript" src="../assets/js/jquery.js"></script><script type="text/javascript" src="../assets/js/jquery.fitvids.js"></script><script type="text/javascript" src="../assets/js/index.js"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67535606-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
