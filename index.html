<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Stuff about stuff">
<meta name="viewport" content="width=device-width">
<title>Graham Wheeler's Random Forest</title>
<link href="assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="assets/css/code.css" rel="stylesheet" type="text/css">
<link href="assets/css/theme.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="assets/css/screen.css">
<link rel="stylesheet" type="text/css" href="assets/css/nav.css">
<link rel="stylesheet" type="text/css" href="assets/css/custom.css">
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic%7COpen+Sans:700,400%7CInconsolata">
<link href="assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/GrahamWheelersRandomForest">
<link rel="canonical" href="https://www.grahamwheeler.com/index.html">
<link rel="next" href="index-6.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]--><link rel="prefetch" href="posts/python-crash-course.html" type="text/html">
</head>
<body class="nav-closed">

<div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
<li class="nav-opened nav-current" role="presentation">
            <a href="#">Home</a>
        </li>
        <li class="nav-opened" role="presentation">
            <a href="archive.html">Archives</a>
        </li>
        <li class="nav-opened" role="presentation">
            <a href="categories/index.html">Tags</a>
        </li>
        <li class="nav-opened" role="presentation">
            <a href="rss.xml">RSS</a>
        </li>
        <li class="nav-opened" role="presentation">
            <a href="https://twitter.com/gramnix">My Twitter</a>
        </li>
        <li class="nav-opened" role="presentation">
            <a href="https://github.com/gramster">My Github</a>
        </li>
        <li class="nav-opened" role="presentation">
            <a href="https://www.linkedin.com/in/grahamwheeler">My LinkedIn</a>
        </li>
    
    
    </ul>
</div>
<span class="nav-cover"></span>

<div class="site-wrapper">
    <header class="main-header" style="background-image: url(images/autumn-3295747_1280.jpg)"><nav class="main-nav overlay clearfix"><a class="blog-logo" href="https://www.grahamwheeler.com/"><img src="https://getnikola.com/assets/img/logo.svg" alt="Blog Logo"></a>
            <a class="menu-button" href="#"><span class="burger">☰</span><span class="word">Menu</span></a>
        </nav><div class="vertical">
            <div class="main-header-content inner">
                <a href="https://github.com/gramster" target="_blank">
                    <span class="icon-github" style="color:white;font-size:2em"></span>
                </a>
                 
                <a class="bloglogo" href="https://twitter.com/gramnix" target="_blank">
                    <span class="icon-twitter" style="color:white;font-size:2em"></span>
                </a>
                 
                <h1 class="page-title">Graham Wheeler's Random Forest</h1>
                <h2 class="page-description">Stuff about stuff</h2>
            </div>
        </div>
        <a class="scroll-down icon-arrow-left" href="#content"><span class="hidden">Scroll Down</span></a>
    </header><main id="content" class="content" role="main"><div class="postindex">


<article class="post post"><header class="post-header"><h2 class="post-title"><a href="posts/python-crash-course.html">A Python Crash Course</a></h2>
    </header><section class="post-excerpt"><div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I've been teaching a crash course in data science with Python, which starts off with learning Python itself. The target audience is Java programmers (generally senior level) so its assumed that things like classes and methods are well understood. The focus is mostly on what is different with Python. I teach it using Jupyter notebooks but the content is useful as a blog post too so here we go:</p>
<h3 id="Introduction">Introduction<a class="anchor-link" href="posts/python-crash-course.html#Introduction">¶</a>
</h3>
<h4 id="Python's-Origins">Python's Origins<a class="anchor-link" href="posts/python-crash-course.html#Python's-Origins">¶</a>
</h4>
<p>Python was conceived in the late 1980s, and its implementation began in December 1989 by Guido van Rossum at Centrum Wiskunde &amp; Informatica (CWI) in the Netherlands as a successor to the ABC language. It takes its name from Monty Python's Flying Circus.</p>
<p>Python is a dynamic language but is strongly typed (i.e. variables are untyped but refer to objects of fixed type).</p>
<blockquote>
<h4 id="How-Python-Evolves">How Python Evolves<a class="anchor-link" href="posts/python-crash-course.html#How-Python-Evolves">¶</a>
</h4>
<p>Python evolves in a fairly straightforward way, more-or-less like this:</p>
<ul>
<li>people propose changes by writing <em>Python Enhancement Proposals</em> (PEPs): <a href="https://www.python.org/dev/peps/">https://www.python.org/dev/peps/</a>
</li>
<li>the Python core committee will assign a 'dictator' who will decide whether the PEP is worthy of becoming part of the standard, and if so it does, after some amount of discussion and revision</li>
<li>disagreements are finally settled by Guido van Rossum, Python's inventor and the 'Benevolent Dictator for Life' (BDFL)</li>
</ul>
<p>An important standard PEP is the Style Guide, PEP-8 (<a href="https://www.python.org/dev/peps/pep-0008/">https://www.python.org/dev/peps/pep-0008/</a>). By default, PyCharm will warn of any PEP-8 violations. There are external tools such as <code>flake8</code> (<a href="https://gitlab.com/pycqa/flake8">https://gitlab.com/pycqa/flake8</a>) that can be used to check code for compliance in other environments.</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="StackOverflow-is-your-friend!">StackOverflow is your friend!<a class="anchor-link" href="posts/python-crash-course.html#StackOverflow-is-your-friend!">¶</a>
</h4>
<p>For Python questions and Python data science questions, make use of StackOverflow. Pay attention to comments on suggested answers; the "accepted answer" is often not the best. Look for comments about whether it is the "most Pythonic". Python has an idiomatic style different to many other languages and so a novice coming from another language will often accept an answer that is closer to idiomatic in that other language rather than Python.</p>
<p><a href="https://stackoverflow.com/questions/tagged/python">https://stackoverflow.com/questions/tagged/python</a></p>
<p>Also, if you're struggling to understand some code in your early days with Python, you may find this 'execution visualizer' helpful:</p>
<p><a href="http://pythontutor.com/">http://pythontutor.com/</a></p>
<h4 id='"Batteries-Included"'>"Batteries Included"<a class="anchor-link" href="posts/python-crash-course.html#%22Batteries-Included%22">¶</a>
</h4>
<p>Python is often described as having "batteries included". This is a reference to the rich set of libraries (packages)included in the standard distribution as well as the vast collection of freely available packages that can be used to bootstrap your development. Or, as Randall Munroe puts it:</p>
<p><img src="https://imgs.xkcd.com/comics/python.png" alt=""></p>
<p>There are many thousands of Python packages available, often giving you many choices for similar purposes. One way to find quality packages is to look the curated lists at <a href="https://python.libhunt.com/">https://python.libhunt.com/</a> and <a href="https://awesome-python.com/">https://awesome-python.com/</a></p>
<h4 id="Python-2.7-or-Python-3.x?">Python 2.7 or Python 3.x?<a class="anchor-link" href="posts/python-crash-course.html#Python-2.7-or-Python-3.x?">¶</a>
</h4>
<p>You can use conda to create a Python 2.7 virtual environment for when you have to use 2.7, but all new projects should be Python 3.5 or later. Python 2.7 is the end of the 2.x line and will be end-of-lifed on Jan 1, 2020; pandas, the main Python package for data science work, will drop 2.7 support at the end of 2018.</p>
<h3 id="Python-docs">Python docs<a class="anchor-link" href="posts/python-crash-course.html#Python-docs">¶</a>
</h3>
<p><a href="https://docs.python.org/3/">https://docs.python.org/3/</a> has very detailed documentation.</p>
<p>Most Python packages have good documentation at <a href="https://readthedocs.org/">https://readthedocs.org/</a></p>
<p>If you use Python a lot on a Mac you may find Dash useful; it is a utility that gives you fast access to context-sensitive help for many libraries: <a href="https://kapeli.com/dash">https://kapeli.com/dash</a></p>
<p>That said, Python has a help() function that is very useful.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Using-the-REPL">Using the REPL<a class="anchor-link" href="posts/python-crash-course.html#Using-the-REPL">¶</a>
</h3>
<p>To start the REPL (read-execute-print loop, or interactive interpreter), just type <code>python</code> at the command line.</p>
<p>Use the <code>help()</code> function to read the documentation for a module/class/function. As a standalone invocation, you enter the help system and can explore various topics.</p>
<p>Python scripts are stored in plain text files with <code>.py</code> extensions. You can run the script <code>foo.py</code> at the command line by invoking:</p>

<pre><code>python foo.py

</code></pre>
<p>When you do so the Python interpreter will compile the script to an intermediate bytecode, and the result will be stored in a file with the same base name and a <code>.pyc</code> extension. As an optimisation, the interpreter will look to see if a <code>.pyc</code> file with a more recent file modification date exists when you invoke it to run a script and use that if it does. In Python 2.x these files were saved alongside the Python source files but in Python 3.x they are stored in a subdirectory named <code>__pycache__</code>.</p>
<blockquote>
<h4 id="A-better-REPL:-bpython">A better REPL: bpython<a class="anchor-link" href="posts/python-crash-course.html#A-better-REPL:-bpython">¶</a>
</h4>
<p>bpython is an alternative REPL that adds a number of useful features at the command line, like syntax highlighting and auto-completion.</p>
<p><a href="https://www.bpython-interpreter.org/">https://www.bpython-interpreter.org/</a></p>
<p>You can install with <code>pip install bpython</code>.</p>
<p>If you're going to use the command line repl I recommend it, although there are other options too that I haven't tried:</p>
<ul>
<li>ptpython <a href="https://github.com/jonathanslenders/ptpython">https://github.com/jonathanslenders/ptpython</a>
</li>
<li>DreamPie <a href="http://dreampie.sourceforge.net/">http://dreampie.sourceforge.net/</a>
</li>
</ul>
<p>Yet another alternative to the REPL, of course, is Jupyter.</p>
<p>For the hard-core Pythonista, you can replace your entire shell with one based on Python; see <a href="http://xon.sh/">http://xon.sh/</a>.</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Quickstart---A-Simple-Example">Quickstart - A Simple Example<a class="anchor-link" href="posts/python-crash-course.html#Quickstart---A-Simple-Example">¶</a>
</h3>
<p>Before diving into the details, let's look at a simple Python script to get a quick taste of what's to come. We're not going to go into details here but have annotated the code with some comments and if you are familiar with other object-oriented languages this should be quite easy to understand. Some things that may be unusual to you:</p>
<ul>
<li>No braces; in Python whitespace is significant. This can take some getting used to but isn't as bad as it seems once you do.</li>
<li>Instance methods require an explicit "this" argument which in Python by convention is called <code>self</code> .</li>
<li>Static methods have a <code>@staticmethod</code> decorator.</li>
<li>The class constructor - of which there can only be one - is called <code>__init__</code>.</li>
<li>Docstrings are specified using actual string literals inline rather than in comments.</li>
<li>The method to convert to string is named <code>__str__</code> not <code>toString</code>.</li>
<li>String formatting is done using embedded code in {} and preceding the string with 'f' (this is new to Python 3.6).</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>  <span class="c1"># import math module</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">SVG</span><span class="p">,</span> <span class="n">display</span>

<span class="sd">"""</span>
<span class="sd">A simple turtle graphics example that produces SVG output that can</span>
<span class="sd">be displayed in Jupyter.</span>
<span class="sd">"""</span>

<span class="k">class</span> <span class="nc">Turtle</span><span class="p">:</span>
    <span class="s2">" Turtle graphics drawing to SVG path "</span>  <span class="c1"># class docstring</span>
    
    <span class="n">DEG2RAD</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span>  <span class="c1"># class level variable</span>
    
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">deg2rad</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>  <span class="c1"># static method</span>
        <span class="sd">""" Convert degrees to radians """</span>
        <span class="k">return</span> <span class="n">d</span> <span class="o">*</span> <span class="n">Turtle</span><span class="o">.</span><span class="n">DEG2RAD</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># class constructor; "self" is like "this"</span>
        <span class="c1"># We don't declare instance variables explicitly in Python; we simply</span>
        <span class="c1"># assign values to them during construction. In this case we will</span>
        <span class="c1"># do all of that in the reset() method.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
        
    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># instance variable</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="s2">"M0,0 "</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">turnto</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">turnto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">):</span>
        <span class="s2">" Turn to absolute angle. "</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">angle</span> <span class="o">=</span> <span class="n">angle</span> <span class="o">%</span> <span class="mf">360.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dx</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">Turtle</span><span class="o">.</span><span class="n">deg2rad</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">angle</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dy</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">Turtle</span><span class="o">.</span><span class="n">deg2rad</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">angle</span><span class="p">))</span>
        
    <span class="k">def</span> <span class="nf">right</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">):</span>
        <span class="s2">" Relative turn "</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">turnto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">angle</span> <span class="o">+</span> <span class="n">angle</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">left</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">right</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
        
    <span class="k">def</span> <span class="nf">up</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw</span> <span class="o">=</span> <span class="kc">False</span>
        
    <span class="k">def</span> <span class="nf">down</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span>
        
    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">distance</span><span class="p">):</span>
        <span class="s2">" Relative move by distance "</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">distance</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">dx</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">distance</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">dy</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">+=</span> <span class="n">f</span><span class="s2">"{'l' if self.draw else 'm'}</span><span class="si">{self.x}</span><span class="s2">,</span><span class="si">{self.y}</span><span class="s2"> "</span>

    <span class="k">def</span> <span class="nf">moveto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="s2">" Absolute move to (x, y)"</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">+=</span> <span class="n">f</span><span class="s2">"{'L' if self.draw else 'M'}</span><span class="si">{self.x}</span><span class="s2">,</span><span class="si">{self.y}</span><span class="s2"> "</span>
        
    <span class="k">def</span> <span class="nf">svg</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">'&lt;svg id="doc" xmlns="http://www.w3.org/2000/svg" '</span> <span class="o">+</span>\
            <span class="s1">'version="1.1" width="500" height="500"&gt;&lt;path d="'</span> <span class="o">+</span>\
            <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">+</span>\
            <span class="s1">'" stroke="green" fill="none" vector-effect="non-scaling-stroke" /&gt;&lt;/svg&gt;'</span>
            
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s2">" Convert to string representation. "</span>
        <span class="k">return</span> <span class="n">f</span><span class="s2">"Turtle at </span><span class="si">{self.x}</span><span class="s2">,</span><span class="si">{self.y}</span><span class="s2"> facing </span><span class="si">{self.angle}</span><span class="s2">"</span>

            
<span class="k">def</span> <span class="nf">swisscross</span><span class="p">(</span><span class="n">turtle</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>  <span class="c1"># top-level function</span>
    <span class="s2">" Swiss cross is a space filling curve. "</span>
    <span class="k">if</span> <span class="n">level</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">swisscross</span><span class="p">(</span><span class="n">turtle</span><span class="p">,</span> <span class="n">level</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">t</span><span class="o">.</span><span class="n">right</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>
        <span class="n">swisscross</span><span class="p">(</span><span class="n">turtle</span><span class="p">,</span> <span class="n">level</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">t</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">swisscross</span><span class="p">(</span><span class="n">turtle</span><span class="p">,</span> <span class="n">level</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">t</span><span class="o">.</span><span class="n">right</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>
        <span class="n">swisscross</span><span class="p">(</span><span class="n">turtle</span><span class="p">,</span> <span class="n">level</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        

<span class="n">t</span> <span class="o">=</span> <span class="n">Turtle</span><span class="p">()</span>  <span class="c1"># create class instance; note no 'new' </span>
<span class="n">t</span><span class="o">.</span><span class="n">up</span><span class="p">()</span>
<span class="n">t</span><span class="o">.</span><span class="n">moveto</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="n">t</span><span class="o">.</span><span class="n">turnto</span><span class="p">(</span><span class="mi">315</span><span class="p">)</span>
<span class="n">t</span><span class="o">.</span><span class="n">down</span><span class="p">()</span>
<span class="n">swisscross</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">t</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">swisscross</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

<span class="c1"># Display the result using SVG</span>
<span class="n">display</span><span class="p">(</span><span class="n">SVG</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">svg</span><span class="p">()))</span>
        
<span class="c1"># final state</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_svg output_subarea ">
<svg height="500" id="doc" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg"><path d="M0,0 M20,30 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l7,7 l7,-7 l7,7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l7,-7 l7,7 l7,-7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 l-7,7 l7,7 l-7,7 l-7,-7 l7,-7 l-7,-7 l-7,7 l-7,-7 " fill="none" stroke="green" vector-effect="non-scaling-stroke"></path></svg>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Turtle at -7,-7 facing 315.0
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Installing-Third-Party-Packages">Installing Third-Party Packages<a class="anchor-link" href="posts/python-crash-course.html#Installing-Third-Party-Packages">¶</a>
</h3>
<p>The standard way to install packages is with <code>pip install</code>. However, if you have installed <code>conda</code> you should use <code>conda install</code> first and only if that fails use <code>pip install</code>. Conda has a smaller set of packages which is why it doesn't always succeed, but the ones it does have have been built for Conda so installing that way is preferred.</p>
<p>Use <code>conda uninstall</code> or <code>pip uninstall</code> to remove packages.</p>
<p>To see what packages are installed use <code>pip freeze</code>.</p>
<p>There's a lot more to package installation than this but this is enough for 90%+ of what you will do.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Python-is-an-OOPL">Python is an OOPL<a class="anchor-link" href="posts/python-crash-course.html#Python-is-an-OOPL">¶</a>
</h3>
<p>Python is a pure object-oriented language. Operators like <code>+</code> are simply methods on a class. The Python interpreter will convert an infix operator to an instance method call.</p>
<p>For example, there is an <code>int</code> class for integers. There is an <code>__add__</code> method defined on that class for addition. So:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[2]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>7</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>is the same as:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="fm">__add__</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[3]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>7</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The double underscore in Python is called <em>dunder</em> and is used extensively internally; <code>__add__</code> is called a <em>dunder-method</em>. Dunder-methods are important to understand if you want to take full advantage of Python hence this early introduction.</p>
<p>You can see the methods on a class by using the <code>dir</code> function, for example <code>dir(int)</code>.</p>
<p>We will discuss how to define new classes later. A key takeaway here is that this use of dunder-methods allows us to override many operators simply by overriding the associated dunder-method. Two particularly useful ones are <code>__str__</code> (cast to string) and <code>__repr__</code> (cast to text representation); these are typically the same for a class but need not be. For example, notice the differences here:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="s2">"abc"</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="fm">__str__</span><span class="p">())</span>  <span class="c1"># Equivalent to str(a)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">())</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>abc
'abc'
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Indentation-and-Comments">Indentation and Comments<a class="anchor-link" href="posts/python-crash-course.html#Indentation-and-Comments">¶</a>
</h3>
<p>Python does not use {} for demarcating blocks of code; instead it uses indentation. This distinguishes it from most other programming languages and can take some getting used to. In particular, it requires care when pasting code in an editor (most Python editors are smart about this but other editors are not). The reason for this choice is that Guido originally designed Python as a teaching language and favored readability.</p>
<p>The convention in Python is to indent with spaces, not tabs (this avoids tab settings causing misnterpretation of code). Indentation standard is 4 spaces at a time, although some companies have different conventions (usually 2, if not 4).</p>
<p>Comments start with # and continue to the end of the line. By convention if # is used on the same line as code it should be preceded by at least two spaces.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Simple-Functions">Simple Functions<a class="anchor-link" href="posts/python-crash-course.html#Simple-Functions">¶</a>
</h3>
<p>Python named functions are defined with <code>def</code>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="n">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[5]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>5</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">add</span><span class="p">(</span><span class="s2">"cat"</span><span class="p">,</span> <span class="s2">"hat"</span><span class="p">)</span>  <span class="c1"># This is entirely legitimate; + concatenates strings</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[6]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>'cathat'</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">add</span><span class="p">(</span><span class="s2">"cat"</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>  <span class="c1"># This is not allowed; Python typecasting must almost always be explicit</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">TypeError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-7-94b2f852ae18&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>add<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">"cat"</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">3</span><span class="ansi-blue-fg">)</span>  <span class="ansi-red-fg"># This is not allowed; Python typecasting must almost always be explicit</span>

<span class="ansi-green-fg">&lt;ipython-input-5-1315785ad0b1&gt;</span> in <span class="ansi-cyan-fg">add</span><span class="ansi-blue-fg">(a, b)</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> <span class="ansi-green-fg">def</span> add<span class="ansi-blue-fg">(</span>a<span class="ansi-blue-fg">,</span> b<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">----&gt; 2</span><span class="ansi-red-fg">     </span><span class="ansi-green-fg">return</span> a <span class="ansi-blue-fg">+</span> b
<span class="ansi-green-intense-fg ansi-bold">      3</span> 
<span class="ansi-green-intense-fg ansi-bold">      4</span> add<span class="ansi-blue-fg">(</span><span class="ansi-cyan-fg">2</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">3</span><span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">TypeError</span>: must be str, not int</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="import">import<a class="anchor-link" href="posts/python-crash-course.html#import">¶</a>
</h4>
<p>Python code is packaged in the form of <em>packages</em> consisting of one of more <em>modules</em>. A module is a single Python file, while a package is a directory of Python modules containing an additional <code>__init__.py</code> file, to distinguish a package from a directory that just happens to contain a bunch of Python scripts.</p>
<p>You install a package with <code>pip</code> or <code>conda</code>. Once installed, to use the package you must import it. You can also import modules although this is less common.</p>
<p>There are several common ways of importing. Let's say we want to import a package <code>foo</code> that defines a class <code>Widget</code>:</p>
<ul>
<li>
<code>import foo</code> will import the <code>foo</code> package; any reference to modules/classes/functions will need to be prefixed with <code>foo.</code>; e.g. <code>foo.Widget</code>
</li>
<li>
<code>import foo as bar</code> will import the <code>foo</code> package with the alias <code>bar</code>; any reference to modules/classes/functions will need to be prefixed with <code>bar.</code>; e.g. <code>bar.Widget</code>
</li>
<li>
<code>from foo import Widget</code> can be used to import a specific module/class/function from <code>foo</code> and it will be available as <code>Widget</code>
</li>
<li>
<code>from foo import *</code> will import every item in <code>foo</code> into the current namespace; this is bad practice, don't do it.</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Writing-a-main-function-and-handling-command-line-arguments">Writing a main function and handling command line arguments<a class="anchor-link" href="posts/python-crash-course.html#Writing-a-main-function-and-handling-command-line-arguments">¶</a>
</h4>
<p>The <code>sys</code> module lets us access command line arguments as `sys.argv:</p>
<div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>

    <span class="kn">import</span> <span class="nn">sys</span>

    <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
        <span class="c1"># print command line arguments</span>
        <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="k">print</span> <span class="n">arg</span>

    <span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
        <span class="n">main</span><span class="p">()</span>
</pre></div>
<p>The <code>__name__</code> variable is set to the name of the executing module, or <code>"__main__"</code> if this is the top-level module. The pattern shown, where we test <code>__name__</code> before executing any code, is a common one; it allows other Python scripts to safely import this one, improving reuse.</p>
<p>If you want to parse command-line arguments like flags etc, there is an <code>argparse</code> library as part of the standard distribution but a much easier way IMO is to use <code>docopt</code>: just write the help string and <code>docopt</code> generates the parse for you: <a href="http://docopt.org/">http://docopt.org/</a>. Another option to look at is <code>click</code>; it seems to be gaining popularity but I have not used it: <a href="http://click.pocoo.org/5/">http://click.pocoo.org/5/</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="An-Overview-of-Python-Types">An Overview of Python Types<a class="anchor-link" href="posts/python-crash-course.html#An-Overview-of-Python-Types">¶</a>
</h3>
<p>See <a href="https://docs.python.org/3/library/stdtypes.html">https://docs.python.org/3/library/stdtypes.html</a> for detailed documentation.</p>
<p>The main types are:</p>
<table>
<thead><tr>
<th>TYPE</th>
<th>GROUP</th>
<th>MUTABLE?</th>
</tr></thead>
<tbody>
<tr>
<td>int</td>
<td>Numerics</td>
<td>N</td>
</tr>
<tr>
<td>float</td>
<td>Numerics</td>
<td>N</td>
</tr>
<tr>
<td>complex</td>
<td>Numerics</td>
<td>N</td>
</tr>
<tr>
<td>str</td>
<td>Sequences</td>
<td>N</td>
</tr>
<tr>
<td>bytes</td>
<td>Sequences</td>
<td>N</td>
</tr>
<tr>
<td>bytearray</td>
<td>Sequences</td>
<td>Y</td>
</tr>
<tr>
<td>list</td>
<td>Sequences</td>
<td>Y</td>
</tr>
<tr>
<td>tuple</td>
<td>Sequences</td>
<td>N</td>
</tr>
<tr>
<td>range</td>
<td>Sequences</td>
<td>N</td>
</tr>
<tr>
<td>set</td>
<td>Sets</td>
<td>Y</td>
</tr>
<tr>
<td>frozenset</td>
<td>Sets</td>
<td>N</td>
</tr>
<tr>
<td>dict</td>
<td>Mapping</td>
<td>Y</td>
</tr>
</tbody>
</table>
<p>In addition, modules, classes, instances, methods, and functions are all types. The Boolean constants <code>True</code> and <code>False</code>, and the value <code>None</code>, are instances of their own special types, and there are several other special cases like this. See the link above for more. Note that there is a string type but not a character type; characters are not treated any differently from other strings.</p>
<h4 id="The-Boolean-Truth-Value-of-Types">The Boolean Truth Value of Types<a class="anchor-link" href="posts/python-crash-course.html#The-Boolean-Truth-Value-of-Types">¶</a>
</h4>
<p>Any object can be tested for truth value, for use in an <code>if</code> or <code>while</code> condition or as operand in a Boolean expression.</p>
<p>By default, an object is considered true unless its class defines either a <code>__bool__()</code> method that returns False or a <code>__len__()</code> method that returns zero, when called with the object. Zero numeric values are considered False, as are empty collections or sequences, and vice-versa.</p>
<p>Operations and built-in functions that have a Boolean result always return <code>0</code> or <code>False</code> for false and <code>1</code> or <code>True</code> for true, unless otherwise stated.</p>
<p>Important exception: the Boolean operations <code>or</code> and <code>and</code> always return one of their operands. This allows for useful defaults using Boolean expressions with <code>or</code>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="kc">None</span>

<span class="n">name</span> <span class="o">=</span> <span class="n">s</span> <span class="ow">or</span> <span class="s2">"N/A"</span>

<span class="nb">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>N/A
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="None">None<a class="anchor-link" href="posts/python-crash-course.html#None">¶</a>
</h4>
<p>Python has no null object, but has a special object instance <code>None</code>.</p>
<p>To test if an object is <code>None</code>, use <code>is</code> or <code>is not</code>, not <code>==</code> or <code>!=</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="kc">None</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>True
False
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>is</code> tests if the arguments refer to the same object, while <code>==</code> tests if they have the same value (in general; in reality it does whatever the <code>__eq__</code> dunder-method on the left-hand-side argument defines). Python keeps a pool of string literals and reuses them if it can, so in the example below <code>a</code> and <code>b</code> both refer to the same string literal while <code>c</code> does not:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="s2">"3"</span>
<span class="n">b</span> <span class="o">=</span> <span class="s2">"3"</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">f</span><span class="s2">"</span><span class="si">{3}</span><span class="s2">"</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="ow">is</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">c</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="ow">is</span> <span class="n">c</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>True
True
True
False
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Numbers">Numbers<a class="anchor-link" href="posts/python-crash-course.html#Numbers">¶</a>
</h4>
<p>Most of the typical operators you know from other languages are supported. Here are some more-specific to Python:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">bool</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>  <span class="c1"># Convert to Boolean</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>  <span class="c1"># Convert to string</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">bool</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>True
3
False
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="mi">3</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># Integer division with truncation</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">3</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># Float division</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>1
1.5
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="mf">2.5</span><span class="p">))</span> <span class="c1"># Convert to int with truncation</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">2.5</span><span class="p">))</span>  <span class="c1"># Convert to int with rounding (this one is odd; I'd expect it to round up)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">2.5001</span><span class="p">))</span>  <span class="c1"># Convert to int with rounding</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>2
2
3
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="mi">3</span><span class="p">)</span>  <span class="c1"># Exponentiation</span>
<span class="nb">print</span><span class="p">(</span><span class="o">~</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># Bitwise inverse</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">120</span><span class="p">)</span>  <span class="c1"># Python ints are arbitrary precision, not 64-bit</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>8
-4
1329227995784915872903807060280344576
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="mf">2.0</span><span class="o">.</span><span class="n">is_integer</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="mf">2.5</span><span class="o">.</span><span class="n">as_integer_ratio</span><span class="p">())</span>  <span class="c1"># Convert to fraction tuple; we'll cover tuples later</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>True
(5, 2)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note that <code>+=</code> and <code>-=</code> (and <code>*=</code>, etc) are supported but <code>++</code> and <code>--</code> are not. Use <code>+=1</code> and <code>-=1</code> instead.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Because even integer literals are objects with some overhead, Python has an optimization where it makes singleton instances of all small integers from -5 to 256. This can in rare situations trip you up.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">256</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">257</span>
<span class="n">c</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span>
<span class="n">d</span> <span class="o">=</span> <span class="o">-</span><span class="mi">6</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="ow">is</span> <span class="mi">256</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span> <span class="ow">is</span> <span class="mi">257</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span> <span class="ow">is</span> <span class="o">-</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span> <span class="ow">is</span> <span class="o">-</span><span class="mi">6</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>True
False
True
False
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Strings">Strings<a class="anchor-link" href="posts/python-crash-course.html#Strings">¶</a>
</h4>
<p>Python 3 strings are unicode. String literals can use single our double quotes (but must use same type to close as to open). Multi-line strings are most easily written using triple quotes.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"bar"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'"foo"'</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"'bar'"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"""I am a </span>
<span class="s2">multiline string"""</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>foo
bar
"foo"
'bar'
I am a 
multiline string
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can use the usual suspects of <code>\n</code>, <code>\t</code>, etc in strings, and use <code>\</code> to escape special characters like quotes and <code>\</code> itself.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="s2">"the cat sat on the mat"</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>  <span class="c1"># len gets the length of the string; implemented by __len__</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>22
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">"cat"</span> <span class="ow">in</span> <span class="n">a</span><span class="p">)</span>  <span class="c1"># 'in' is implemented by __contains__</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"dog"</span> <span class="ow">in</span> <span class="n">a</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>True
False
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># Implemented by __getitem__</span>
<span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"t"</span>  <span class="c1"># No can do; strings are immutable.</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>t
</pre>
</div>
</div>

<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">TypeError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-20-b63b8912561d&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> print<span class="ansi-blue-fg">(</span>a<span class="ansi-blue-fg">[</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">)</span>  <span class="ansi-red-fg"># Implemented by __getitem__</span>
<span class="ansi-green-fg">----&gt; 2</span><span class="ansi-red-fg"> </span>a<span class="ansi-blue-fg">[</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">"t"</span>  <span class="ansi-red-fg"># No can do; strings are immutable.</span>

<span class="ansi-red-fg">TypeError</span>: 'str' object does not support item assignment</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Some useful functions. Note these all return copies of the string; strings are immutable!</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">capitalize</span><span class="p">())</span>  <span class="c1"># Capitalize first letter</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>the cat sat on the mat
THE CAT SAT ON THE MAT
The cat sat on the mat
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Like any object that supports __len__ and __getitem__, strings are sliceable.</span>
<span class="c1"># Slicing uses [start:end] or [start:end:increment] where any of these are optional</span>
<span class="c1"># start defaults to 0, end to __len__(), and increment to 1. </span>
<span class="c1"># start and end can be positive (from start of string) or negative (from end of string).</span>

<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span>   <span class="c1"># skip first two characters</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="mi">7</span><span class="p">:])</span>  <span class="c1"># the last 7 characters</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">6</span><span class="p">])</span>  <span class="c1"># 4 characters starting after 2nd character</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[::</span><span class="mi">2</span><span class="p">])</span>  <span class="c1"># Every second character</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>e cat sat on the mat
the mat
e ca
tectsto h a
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Use find and rfind to find first/last occurence of a string; return offset or -1 if not found</span>
<span class="c1"># You can also use index/rindex which are similar but raise ValueError exception if not found.</span>

<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">'he'</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="s1">'he'</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">'cat'</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">'dog'</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>1
16
4
-1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># You can convert from character to ordinal or vice-versa with ord() and chr()</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">65</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s1">'A'</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>A
65
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Python has no character type, just string. So functions that would apply to just </span>
<span class="c1"># a character in other languages apply to entire string in Python.</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"123"</span><span class="o">.</span><span class="n">isdigit</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"1X3"</span><span class="o">.</span><span class="n">isdigit</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"NOOOOooo"</span><span class="o">.</span><span class="n">isupper</span><span class="p">())</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>True
False
False
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There are many more string operations available; these are just the basics. You can encode and decode strings using other encodings; see <a href="https://docs.python.org/3/howto/unicode.html">https://docs.python.org/3/howto/unicode.html</a> for details.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Lists">Lists<a class="anchor-link" href="posts/python-crash-course.html#Lists">¶</a>
</h4>
<p>Lists are ordered, mutable sequences. They can be indexed, sliced (more on that below), appended to, have elements deleted, and sorted. They are heterogeneous. Examples:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [26]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">"cat"</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>  <span class="c1"># len() gives the length of the list</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># [] can be used to index in to the list; implemented by list.__getitem__; assignment uses list.__setitem__</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># negative indices can be used to index from the end of the list (-1 for last element)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[1, 2, 3, 'cat']
4
2
cat
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># * can be used to create multiple concanenated copies of a list; implemented by list.__mul__</span>
    
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="mi">2</span> 
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[1, 2, 3, 'cat']
[1, 2, 3, 'cat', 1, 2, 3, 'cat']
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># `in` can be used to check for membership; implemented by list.__contains__</span>

<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'cat'</span> <span class="ow">in</span> <span class="n">a</span><span class="p">)</span>  
<span class="nb">print</span><span class="p">(</span><span class="s1">'dog'</span> <span class="ow">in</span> <span class="n">a</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[1, 2, 3, 'cat', 1, 2, 3, 'cat']
True
False
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">([</span><span class="s1">'dog'</span><span class="p">]</span> <span class="o">+</span> <span class="n">a</span><span class="p">)</span>  <span class="c1"># + can be used to concanetenate lists; implemented by list.__add__</span>
<span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'dog'</span><span class="p">)</span>  <span class="c1"># append() can be used for concatenating elements</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[1, 2, 3, 'cat', 1, 2, 3, 'cat']
['dog', 1, 2, 3, 'cat', 1, 2, 3, 'cat']
[1, 2, 3, 'cat', 1, 2, 3, 'cat', 'dog']
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [30]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">'dog'</span><span class="p">))</span> <span class="c1"># Get index of first matching entry; throws exception if not found</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">'cat'</span><span class="p">))</span>  <span class="c1"># Count the number of instances of an element</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[1, 2, 3, 'cat', 1, 2, 3, 'cat', 'dog']
8
2
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [31]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">'dog'</span><span class="p">)</span>  <span class="c1"># Remove first matching instance of element</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="k">del</span> <span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># Remove element at index; implementedby list.__del__</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[1, 2, 3, 'cat', 1, 2, 3, 'cat', 'dog']
[1, 2, 3, 'cat', 1, 2, 3, 'cat']
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [32]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># reverse() reverses the order of the list in place; implemented by list.__reversed__</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>  
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[1, 2, 3, 'cat', 1, 2, 3]
[3, 2, 1, 'cat', 3, 2, 1]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [33]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># for..in iterates over elements</span>
    
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="k">for</span> <span class="n">elt</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span> 
    <span class="nb">print</span><span class="p">(</span><span class="n">elt</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[3, 2, 1, 'cat', 3, 2, 1]
3
2
1
cat
3
2
1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [34]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># enumerate() will return tuples of index, value</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">'Value at index </span><span class="si">{i}</span><span class="s1"> is </span><span class="si">{v}</span><span class="s1">'</span><span class="p">)</span>  <span class="c1"># f'' is a format string that can contain code in {}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[3, 2, 1, 'cat', 3, 2, 1]
Value at index 0 is 3
Value at index 1 is 2
Value at index 2 is 1
Value at index 3 is cat
Value at index 4 is 3
Value at index 5 is 2
Value at index 6 is 1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [35]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>  <span class="c1"># Makes a shallow copy; can also use b = a.copy()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">)</span>  <span class="c1"># Elementwise comparison; implemented by list.__eq__</span>
<span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># Add 1 to last element</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">)</span>  <span class="c1"># Compares starting from first element; implemented by list.__gt__</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">)</span>  <span class="c1"># Compares starting from first element; implemented by list.__lt__</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[3, 2, 1, 'cat', 3, 2, 1]
True
False
False
True
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [36]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>  <span class="c1"># Removes last element</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># removes element at index 0</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[3, 2, 1, 'cat', 3, 2, 1]
[3, 2, 1, 'cat', 3, 2]
[2, 1, 'cat', 3, 2]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [37]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># You can join a list of words into a string</span>
<span class="s1">','</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">'cat'</span><span class="p">,</span> <span class="s1">'dog'</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[37]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>'cat,dog'</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [38]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Like any object that supports __len__ and __getitem__, lists are sliceable.</span>
<span class="c1"># Slicing uses [start:end] or [start:end:increment] where any of these are optional</span>
<span class="c1"># start defaults to 0, end to __len__(), and increment to 1. </span>
<span class="c1"># start and end can be positive (from start of string) or negative (from end of string).</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">[::</span><span class="mi">2</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[3, 4, 5, 6]
[2, 3]
[4, 5, 6]
[1, 3, 5]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [39]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Use insert() to insert at some position. This is done in-place.</span>
<span class="n">x</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'A'</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">x</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>  <span class="c1"># Note: insert() is for elements, so [1, 2] is a single element, not expanded</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[1, 2, 'A', 3, 4, 5, 6]
[1, 2, 'A', [1, 2], 3, 4, 5, 6]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [40]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>  <span class="c1"># empty the list</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Dicts">Dicts<a class="anchor-link" href="posts/python-crash-course.html#Dicts">¶</a>
</h4>
<p>Dictionaries are mutable mappings of keys to values. Keys must be hashable, but values can be any object.</p>
<hr>
<p><em>Under the hood</em></p>
<p>A hashable object is one that defines a <code>__hash__</code> dunder-method, and an <code>__eq__</code> dunder method; if two objects are equal their hashes must be the same or the results may be unpredictable.</p>
<hr>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [41]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># dict literals (actually a list of dicts in this example)</span>

<span class="n">contacts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Alice'</span><span class="p">,</span>
        <span class="s1">'phone'</span><span class="p">:</span> <span class="s1">'555-123-4567'</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Bob'</span><span class="p">,</span>
        <span class="s1">'phone'</span><span class="p">:</span> <span class="s1">'555-987-6543'</span>        
    <span class="p">}</span>
<span class="p">]</span>
<span class="n">contacts</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[41]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>[{'name': 'Alice', 'phone': '555-123-4567'},
 {'name': 'Bob', 'phone': '555-987-6543'}]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [42]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Use [key] to get an item; this calls dict.__getitem__</span>
<span class="n">contacts</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">'name'</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[42]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>'Alice'</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [43]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Use dict[key] = value to change an item; this calls dict.__setitem__</span>
<span class="n">contacts</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">'name'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Carol'</span>
<span class="n">contacts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[43]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{'name': 'Carol', 'phone': '555-123-4567'}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [44]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Trying to use a non-existent key raises an exception</span>
<span class="n">contacts</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">'address'</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">KeyError</span>                                  Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-44-0a84b14a0ce5&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> <span class="ansi-red-fg"># Trying to use a non-existent key raises an exception</span>
<span class="ansi-green-fg">----&gt; 2</span><span class="ansi-red-fg"> </span>contacts<span class="ansi-blue-fg">[</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">'address'</span><span class="ansi-blue-fg">]</span>

<span class="ansi-red-fg">KeyError</span>: 'address'</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [45]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># You can avoid above and return a default value by using .get()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contacts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'No name'</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contacts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'address'</span><span class="p">,</span> <span class="s1">'No address'</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Carol
No address
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [46]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Use 'in' to see if a key exists in a dict; this calls dict.__contains__</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'name'</span> <span class="ow">in</span> <span class="n">contacts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'address'</span> <span class="ow">in</span> <span class="n">contacts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>True
False
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [47]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Test for equality with '==' and !=; this calls dict.__eq__ and dict.__ne__</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contacts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">contacts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contacts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="p">{</span> <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Carol'</span><span class="p">,</span> <span class="s1">'phone'</span><span class="p">:</span> <span class="s1">'555-123-4567'</span><span class="p">})</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>False
True
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [48]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Use for-in to iterate over items; this calls dict.__iter__</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">contacts</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>name
phone
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [49]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Use len() to get number of items; this calls dict.__len__</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">contacts</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>2
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [50]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Use 'del' to delete a key from a dict; this calls dict.__delitem__</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [51]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Use .clear() to empty dict (without changing references)</span>

<span class="n">a</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span> <span class="s1">'me'</span><span class="p">}</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span>
<span class="n">a</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">b</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[51]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [52]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Contrast above with assigning empty dict</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span> <span class="s1">'me'</span><span class="p">}</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">b</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[52]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{'name': 'me'}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [53]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Use .keys(), .values() or .items() to get the keys, values, or both</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There are some alternative implementations in the <code>collections</code> module; you won't need these now but they may come in handy in the future, especially the first two:</p>
<ul>
<li>
<code>collections.OrderedDict</code>s remember the order of insertion so this is preserved when iterating over the entries or keys</li>
<li>
<code>collections.defaultdict</code>s can specify a type in the constructor whose return vaslue will be used if an entry can't be found</li>
<li>
<code>collections.ChainMap</code>s group multiple dictionaries into a single item for lookups; inserts go in the first dictionary</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Sets">Sets<a class="anchor-link" href="posts/python-crash-course.html#Sets">¶</a>
</h4>
<p>A set is a mutable unordered collection that cannot contain duplicates. Sets are used to remove duplicates and test for membership. One use for sets is to quickly see differences. For example, if you have two dicts and want to see what keys are in one but not the other:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [54]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'food'</span><span class="p">:</span> <span class="s1">'ham'</span><span class="p">,</span> <span class="s1">'drink'</span><span class="p">:</span> <span class="s1">'soda'</span><span class="p">,</span> <span class="s1">'desert'</span><span class="p">:</span> <span class="s1">'ice cream'</span><span class="p">}</span>
<span class="n">b</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'food'</span><span class="p">:</span> <span class="s1">'tofu'</span><span class="p">,</span> <span class="s1">'desert'</span><span class="p">:</span> <span class="s1">'cake'</span><span class="p">}</span>

<span class="nb">set</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[54]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{'drink'}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Sets are less commonly used than lists and dicts and we will not discuss them further here. You can read more here: <a href="https://docs.python.org/3/library/stdtypes.html#set-types-set-frozenset">https://docs.python.org/3/library/stdtypes.html#set-types-set-frozenset</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Tuples">Tuples<a class="anchor-link" href="posts/python-crash-course.html#Tuples">¶</a>
</h4>
<p>Tuples are immutable sequences. Typically they are used to store record type data, or to return multiple values from a function. Tuples behave a lot like lists and support many of the same operations with similar behavior, aside from their immutability. We'll consider them briefly here.</p>
<p>The <code>collections</code> package defines a variant <code>namedtuple</code> which allows each field to be given a name; we won't go into that here other than to point out its existence. <code>collections</code> also defines a <code>deque</code> class; stacks are easy to implement just with the built-io list type.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [55]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="s1">'dog'</span><span class="p">,</span> <span class="s1">'canine'</span><span class="p">)</span>  <span class="c1"># tuple</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[55]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>('dog', 'canine')</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [56]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="s1">'dog'</span><span class="p">)</span>  <span class="c1"># Not a tuple! This is just a string in parens</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[56]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>'dog'</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [57]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="s1">'dog'</span><span class="p">,)</span>  <span class="c1"># For a single-valued tuple, use a trailing comma to avoid above issue</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[57]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>('dog',)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [58]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="s1">'dog'</span><span class="p">,</span>  <span class="c1"># Parentheses are often optional</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[58]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>('dog',)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [59]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Indexing can be used to get at elements, much like lists</span>
<span class="nb">print</span><span class="p">((</span><span class="s1">'dog'</span><span class="p">,</span> <span class="s1">'canine'</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">((</span><span class="s1">'dog'</span><span class="p">,</span> <span class="s1">'canine'</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">((</span><span class="s1">'dog'</span><span class="p">,</span> <span class="s1">'canine'</span><span class="p">)[</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
<span class="nb">print</span><span class="p">((</span><span class="s1">'dog'</span><span class="p">,)[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">((</span><span class="s1">'dog'</span><span class="p">,)[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>dog
canine
dog
dog
</pre>
</div>
</div>

<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">IndexError</span>                                Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-59-c2e4b522d95a&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">      4</span> print<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">'dog'</span><span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">'canine'</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">-</span><span class="ansi-cyan-fg">2</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      5</span> print<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">'dog'</span><span class="ansi-blue-fg">,</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">[</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">----&gt; 6</span><span class="ansi-red-fg"> </span>print<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">'dog'</span><span class="ansi-blue-fg">,</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">[</span><span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">IndexError</span>: tuple index out of range</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [60]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># We can unpack a tuple through assignment to multiple variables</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'dog'</span><span class="p">,</span> <span class="s1">'bone'</span><span class="p">)</span>
<span class="n">animal</span><span class="p">,</span> <span class="n">toy</span> <span class="o">=</span> <span class="n">a</span>
<span class="nb">print</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">toy</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>dog
bone
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [61]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># But need to ensure we use the right number of variables</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'dog'</span><span class="p">,</span> <span class="s1">'bone'</span><span class="p">)</span>
<span class="n">animal</span><span class="p">,</span> <span class="n">toy</span><span class="p">,</span> <span class="n">place</span> <span class="o">=</span> <span class="n">a</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">ValueError</span>                                Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-61-fee6f9af1778&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> <span class="ansi-red-fg"># But need to ensure we use the right number of variables</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> a <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">'dog'</span><span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">'bone'</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">----&gt; 3</span><span class="ansi-red-fg"> </span>animal<span class="ansi-blue-fg">,</span> toy<span class="ansi-blue-fg">,</span> place <span class="ansi-blue-fg">=</span> a

<span class="ansi-red-fg">ValueError</span>: not enough values to unpack (expected 3, got 2)</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [62]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'dog'</span><span class="p">,</span> <span class="s1">'bone'</span><span class="p">,</span> <span class="s1">'house'</span><span class="p">)</span>
<span class="n">animal</span><span class="p">,</span> <span class="n">toy</span> <span class="o">=</span> <span class="n">a</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">ValueError</span>                                Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-62-fff6c985f996&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> a <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">'dog'</span><span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">'bone'</span><span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">'house'</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">----&gt; 2</span><span class="ansi-red-fg"> </span>animal<span class="ansi-blue-fg">,</span> toy <span class="ansi-blue-fg">=</span> a

<span class="ansi-red-fg">ValueError</span>: too many values to unpack (expected 2)</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [63]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Tuples allow us to do a neat trick in Python that is harder in many languages - swap two values without using a</span>
<span class="c1"># temporary intermediate.</span>
<span class="c1"># Note what is going on here: the RHS of the assignment is creating a tuple; the LHS is unpacking the tuple.</span>

<span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
<span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>1 2
2 1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Some-built-in-Functions">Some built-in Functions<a class="anchor-link" href="posts/python-crash-course.html#Some-built-in-Functions">¶</a>
</h3>
<p>See <a href="https://docs.python.org/3.6/library/functions.html">https://docs.python.org/3.6/library/functions.html</a> for a full list and more details.</p>
<p><code>abs(num)</code> - Return absolute value</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [64]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>3
3
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>all(iterable)</code> - returns True if all items in the iterable are True</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [65]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">all</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">all</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>True
False
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>any(iterable)</code> - returns True is any item in the iterable is True.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [66]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">any</span><span class="p">([</span><span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">any</span><span class="p">([</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>False
True
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>filter(fn, iter)</code> - construct an iterator from the elements of iterable object <code>iter</code> for which a function <code>fn</code> returns true.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [67]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"John Smith"</span><span class="p">,</span> <span class="s2">"Alan Alda"</span><span class="p">]</span>

<span class="c1"># Get the names that start and end with same letter</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="n">names</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Alan Alda
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>input</code> - get input from the console</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [68]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"What is your name?"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">'Hello </span><span class="si">{n}</span><span class="s1">!'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>What is your name?Graham
Hello Graham!
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>isinstance</code> - check if an object has a certain type</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [69]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="s1">'abc'</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">123</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="nb">int</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="nb">str</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">int</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">str</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>False
True
True
False
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>iter</code> - create an sequential iterable from an object; we will discuss iterables later</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [70]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Before first next()"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>  <span class="c1"># returns first item and advances</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Before second next()"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>  <span class="c1"># returns second item and advances</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"After second next()"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>  <span class="c1"># iterates through remaining items</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;list_iterator object at 0x10ff53978&gt;
Before first next()
1
Before second next()
2
After second next()
3
4
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>len</code> - calls the object's <code>__len__</code> method to get the length.</p>
<p><code>map</code> - similar to <code>filter</code> but returns an iterable with the results of applying the function</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [71]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"John Smith"</span><span class="p">,</span> <span class="s2">"Alan Alda"</span><span class="p">]</span>

<span class="c1"># Get a list of bools, one for each name, specifying if the name starts and ends with the same letter.</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="n">names</span><span class="p">)))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[False, True]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>max(arg1,...)</code> - returns the largest arg. If a single iterable arg is given it will iterate.</p>
<p><code>min(arg1, ...)</code> - returns the smallest arg</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [72]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>  <span class="c1"># Multiple scalar args</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">max</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]))</span> <span class="c1"># Single list arg</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">max</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="mi">4</span><span class="p">))</span>  <span class="c1"># Not allowed</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>3
3
</pre>
</div>
</div>

<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">TypeError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-72-5ebfda590ac7&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> print<span class="ansi-blue-fg">(</span>max<span class="ansi-blue-fg">(</span><span class="ansi-cyan-fg">2</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">3</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>  <span class="ansi-red-fg"># Multiple scalar args</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> print<span class="ansi-blue-fg">(</span>max<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">[</span><span class="ansi-cyan-fg">3</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">2</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span> <span class="ansi-red-fg"># Single list arg</span>
<span class="ansi-green-fg">----&gt; 3</span><span class="ansi-red-fg"> </span>print<span class="ansi-blue-fg">(</span>max<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">[</span><span class="ansi-cyan-fg">3</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">2</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">4</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>  <span class="ansi-red-fg"># Not allowed</span>

<span class="ansi-red-fg">TypeError</span>: '&gt;' not supported between instances of 'int' and 'list'</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>next</code> - gets next item from an iterable; see the section on iterables and example for <code>iter</code> above.</p>
<p><code>repr</code> - calls the object <code>__repr__</code> method to get a string representation. This is the <em>formal</em> representation while <code>__str__</code> returns the <em>informal</em> representation. Another way of thinking about this is that <code>__str__</code> returns the value of the object when used as a string, while <code>__repr__</code> returns a printable representation of the object's state. In Jupyter, when displaying an object, <code>__repr__</code> will be used if possible, with <code>__str__</code> used as a fallback.</p>
<p><code>reversed</code> - makes a copy of the object with items in reversed order (object must support <code>__len__</code> and <code>__getitem__</code>)</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>round</code> - rounds number to some number of decimal places (default 0)</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [73]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pi</span> <span class="o">=</span> <span class="mf">3.1415927</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">pi</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>3
3.142
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>sorted(list)</code> - returns a sorted version of the list.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [74]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[1, 3, 3]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>sum(iterable)</code> - returns the sum of the iterable</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [75]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>6
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>type(obj)</code> - return the type of an object</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [76]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class 'str'&gt;
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>zip(list, ...)</code> - combines multiple lists into a single list of tuples. Note this returns a lazy iterable, not a list</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [77]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">zip</span><span class="p">([</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">([</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])))</span>  <span class="c1"># instantiates the iterable as a list</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;zip object at 0x10fcdc408&gt;
[('a', 1), ('b', 2), ('c', 3)]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="String-Formatting">String Formatting<a class="anchor-link" href="posts/python-crash-course.html#String-Formatting">¶</a>
</h3>
<p>String formatting has evolved over time with Python. Python 3.6 introduced "format strings" which allow code to be directly embedded in the string. This is an improvement over older approaches and we will use it extensively.
Format strings have an <code>f</code> prefix and include code in <code>{}</code>. For example:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [78]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">10</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s2">"2 x </span><span class="si">{a}</span><span class="s2"> = {2*a}"</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>2 x 10 = 20
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If you need to use the old approaches, there are a lot of details here: <a href="https://pyformat.info/">https://pyformat.info/</a> (this doesn't seem to cover format strings yet though). That site covers things like padding, justification, truncation, leading zeroes, fixing number of decimal places, etc. We won't cover these here except the latter:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [79]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mf">1.23456</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">'</span><span class="si">{a:.2f}</span><span class="s1">'</span><span class="p">)</span>  <span class="c1"># Float restricted to two decimal places</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">'</span><span class="si">{a:06.2f}</span><span class="s1">'</span><span class="p">)</span>  <span class="c1"># Float restricted to two decimal places and padded with leading zeroes if less than 6 chars</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>1.23456
1.23
001.23
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>When you use <code>f'{a}'</code>, Python will look in turn for a <code>__format__</code>, a <code>__repr__</code> or a <code>__str__</code> method to call to get the string representation of <code>a</code>. You can force it to use <code>__repr__</code> with <code>f'{a!r}'</code> or to use <code>__str__</code> with <code>f'{a!s}'</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Sorting">Sorting<a class="anchor-link" href="posts/python-crash-course.html#Sorting">¶</a>
</h3>
<p>We've already seen the <code>sorted</code> function, that can create a sorted list from any iterable:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [80]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>1
2
3
4
5
7
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can do a descending sort by adding a <code>reverse=True</code> argument:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [81]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>7
5
4
3
2
1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can sort a list in place with <code>sort</code>, but this only applies to lists:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [82]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[3, 5, 2, 4, 1, 7]
[1, 2, 3, 4, 5, 7]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can read more about sorting here, including how to sort composite objects like dictionaries, tuples and nested lists, and by multiple keys: <a href="https://docs.python.org/3/howto/sorting.html">https://docs.python.org/3/howto/sorting.html</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Statements">Statements<a class="anchor-link" href="posts/python-crash-course.html#Statements">¶</a>
</h3>
<p>Here we will consider statements. We'll leave some statements to when we get to exceptions, functions and classes.</p>
<p>For more info on statements see <a href="https://docs.python.org/3/reference/simple_stmts.html">https://docs.python.org/3/reference/simple_stmts.html</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="pass">pass<a class="anchor-link" href="posts/python-crash-course.html#pass">¶</a>
</h4>
<p>The <code>pass</code> statement is a no-op. This is needed in Python as the language doesn't use braces, so it is the equivalent of <code>{}</code> in Java- or C-like languages.</p>
<h4 id="del">del<a class="anchor-link" href="posts/python-crash-course.html#del">¶</a>
</h4>
<p><code>del</code> is used to delete an object; it isn't used much but can be useful if the object uses a lot of memory to allow it to be garbage-collected.</p>
<h4 id="for,-break-and-continue">for, break and continue<a class="anchor-link" href="posts/python-crash-course.html#for,-break-and-continue">¶</a>
</h4>
<p>You can loop over any iterable with <code>for...in</code>. <code>break</code> and <code>continue</code> are supported, and behave in the expected fashion.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [83]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">'green eggs'</span><span class="p">,</span> <span class="s1">'ham'</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>green eggs
ham
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [84]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="s1">'green eggs'</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>g
r
e
e
n
 
e
g
g
s
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [85]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">{</span><span class="s1">'a'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">:</span> <span class="mi">2</span><span class="p">}:</span> <span class="c1"># This will loop over keys</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>a
b
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [86]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">{</span><span class="s1">'a'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span><span class="o">.</span><span class="n">values</span><span class="p">():</span> <span class="c1"># This will loop over values</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>1
2
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [87]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">{</span><span class="s1">'a'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>  <span class="c1"># This will loop over key-value pairs as tuples</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>('a', 1)
('b', 2)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [88]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>1
2
3
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [89]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]):</span>  <span class="c1"># Returns (index, value) tuples</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>(0, 1)
(1, 2)
(2, 3)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [90]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]):</span>  <span class="c1"># We can unpack the (index, value) tuples</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">'At position </span><span class="si">{index}</span><span class="s1"> we have value </span><span class="si">{value}</span><span class="s1">'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>At position 0 we have value 1
At position 1 we have value 2
At position 2 we have value 3
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [91]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>1
2
3
4
5
6
7
8
9
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [92]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>1
3
5
7
9
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Python has an unusual construct: for..else. The else part is executed if there was no early break from the loop.</p>
<p>This is a common construct in other languages:</p>
<div class="highlight"><pre><span></span><span class="c1"># See if the list has an even number and then take an action.</span>
    <span class="n">has_even_number</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">for</span> <span class="n">elt</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">elt</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">has_even_number</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">break</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">has_even_number</span><span class="p">:</span>
        <span class="k">print</span> <span class="s2">"list has no even numbers"</span>
</pre></div>
<p>but in Python, we can just do:</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">elt</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">elt</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span> <span class="s2">"list has no even numbers"</span>
</pre></div>
<p>I.e. the <code>else</code> statement will be executed if the loop completes normally (does not exit through a <code>break</code>).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="while">while<a class="anchor-link" href="posts/python-crash-course.html#while">¶</a>
</h4>
<p><code>while</code> loops are very straighforward:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [93]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">2</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>0
2
4
6
8
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>while...else</code> is supported:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [94]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">2</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'Done'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>0
2
4
6
8
Done
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [95]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'Found an even number!'</span><span class="p">)</span>
        <span class="k">break</span>
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">2</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'No even numbers!'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>0
Found an even number!
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [96]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'Found an even number!'</span><span class="p">)</span>
        <span class="k">break</span>
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">2</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'No even numbers!'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>1
3
5
7
9
No even numbers!
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="if-Statement-and-Boolean-Expressions">if Statement and Boolean Expressions<a class="anchor-link" href="posts/python-crash-course.html#if-Statement-and-Boolean-Expressions">¶</a>
</h4>
<p>Python uses <code>if...elif...else</code> syntax:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [97]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">grade</span> <span class="o">=</span> <span class="mi">75</span>
<span class="k">if</span> <span class="n">grade</span> <span class="o">&gt;</span> <span class="mi">90</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'A'</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">grade</span> <span class="o">&gt;</span> <span class="mi">80</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'B'</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">grade</span> <span class="o">&gt;</span> <span class="mi">70</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'C'</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'D'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>C
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>and</code>, <code>or</code> and <code>not</code> are Boolean operators, while <code>&amp;</code>, <code>|</code> and <code>^</code> are bitwise-operators. Short-circuiting rules apply:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [98]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="mi">1</span> <span class="ow">and</span> <span class="mi">1</span><span class="o">/</span><span class="mi">0</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">ZeroDivisionError</span>                         Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-98-d26a3ac7f29d&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span><span class="ansi-cyan-fg">1</span> <span class="ansi-green-fg">and</span> <span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">/</span><span class="ansi-cyan-fg">0</span>

<span class="ansi-red-fg">ZeroDivisionError</span>: division by zero</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [99]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="mi">1</span> <span class="ow">or</span> <span class="mi">1</span><span class="o">/</span><span class="mi">0</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[99]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>1</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [100]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="mi">0</span> <span class="ow">and</span> <span class="mi">1</span><span class="o">/</span><span class="mi">0</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[100]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>0</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [101]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="mi">0</span> <span class="ow">or</span> <span class="mi">1</span><span class="o">/</span><span class="mi">0</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">ZeroDivisionError</span>                         Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-101-a829942d3284&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span><span class="ansi-cyan-fg">0</span> <span class="ansi-green-fg">or</span> <span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">/</span><span class="ansi-cyan-fg">0</span>

<span class="ansi-red-fg">ZeroDivisionError</span>: division by zero</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can combine multiple range comparisons into a single one:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [102]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="mi">0</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>True
False
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note that the Boolean literals are <code>True</code> and <code>False</code>, with capitalized first letters.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [103]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="mi">0</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">4</span> <span class="o">&lt;</span> <span class="mi">6</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>True
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If an instance of a class is used in a Boolean expression, it is evaluated by calling its <code>__bool__</code> method if it has one, else its <code>__len__</code> method (where non-zero is <code>True</code>), else it is considered <code>True</code>.</p>
<p>Python doesn't support conditional expressions like <code>:?</code> but does support ternary expressions with <code>if...else</code>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [104]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">'</span><span class="si">{count}</span><span class="s1"> {"Widget" if count == 1 else "Widgets"}'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>0 Widgets
1 Widget
2 Widgets
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="with">with<a class="anchor-link" href="posts/python-crash-course.html#with">¶</a>
</h4>
<p><code>with</code> is used for scoped use of classes that need to clean up when they are no longer used (e.g. file objects that need to release underlying file handles).</p>
<p>The most common place you'll see this is with file reading and writing, which we conver in the next section.</p>
<hr>
<blockquote>
<p><em>Under the Hood</em></p>
<p>When the “with” statement is executed, Python evaluates the following expression, calls the <code>__enter__</code> method on the resulting value (a “context guard”), and assigns whatever <code>__enter__</code> returns to the variable given by as. Python will then execute the code body, and no matter what happens in that code, call the guard object’s <code>__exit__</code> method.</p>
<p>As an extra bonus, the <code>__exit__</code> method can look at the exception, if any, and suppress it or act on it as necessary (to suppress it, it just needs to return <code>True</code>).</p>
<p>We're getting ahead of ourselves here with classes, but here is an example:</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [105]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Wither</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">'green eggs'</span>
    <span class="k">def</span> <span class="nf">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>  <span class="nb">type</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">traceback</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'ham'</span><span class="p">)</span>
    
<span class="k">with</span> <span class="n">Wither</span><span class="p">()</span> <span class="k">as</span> <span class="n">x</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>green eggs
ham
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Reading-and-Writing-Files">Reading and Writing Files<a class="anchor-link" href="posts/python-crash-course.html#Reading-and-Writing-Files">¶</a>
</h3>
<p>Python has a built-in <code>open</code> function for opening files for reading and writing: <a href="https://docs.python.org/3.6/library/functions.html#open">https://docs.python.org/3.6/library/functions.html#open</a></p>
<p>The simplest for of reading a file is just:</p>
<div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'myfile.txt'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</pre></div>
<p>and writing a file, assuming we have a list of strings <code>data</code>:</p>
<div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'myfile.txt'</span><span class="p">,</span> <span class="s1">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</pre></div>
<p>You can see more detailed examples in the tutorial, section 7.2, here: <a href="https://docs.python.org/3/tutorial/inputoutput.html">https://docs.python.org/3/tutorial/inputoutput.html</a></p>
<p>If you are doing more sophisticated operations with files you may want to look at the <code>pyfilesystem</code> package: <a href="https://www.pyfilesystem.org/">https://www.pyfilesystem.org/</a>. This provides a richer set of functionality over a variety of different "virtual" file systems, like zipfiles, tarfiles, FTP, SMB, DLNA and WebDAV servers, and services like DropBox.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Functions-and-Lambdas">Functions and Lambdas<a class="anchor-link" href="posts/python-crash-course.html#Functions-and-Lambdas">¶</a>
</h3>
<p>Recall that Python named functions are defined with <code>def</code>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [106]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="n">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[106]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>5</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Default arguments are allowed. If a default argument is specified, then all following arguments must have defaults as well:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [107]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">'a=</span><span class="si">{a}</span><span class="s1">, b=</span><span class="si">{b}</span><span class="s1">'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="nb">print</span><span class="p">(</span><span class="n">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">add</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">add</span><span class="p">())</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>a=2, b=3
5
a=2, b=1
3
</pre>
</div>
</div>

<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">TypeError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-107-ad63163207a7&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">      5</span> print<span class="ansi-blue-fg">(</span>add<span class="ansi-blue-fg">(</span><span class="ansi-cyan-fg">2</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">3</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      6</span> print<span class="ansi-blue-fg">(</span>add<span class="ansi-blue-fg">(</span><span class="ansi-cyan-fg">2</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">----&gt; 7</span><span class="ansi-red-fg"> </span>print<span class="ansi-blue-fg">(</span>add<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">TypeError</span>: add() missing 1 required positional argument: 'a'</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Arguments with no defaults are "positional" arguments and must be specified in order <em>except</em> if they are named explicitly when calling the function:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [108]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">add</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>a=1, b=2
3
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Variables referenced in a function are either local or arguments. To access a global variable you must explicitly declare it global (but it is better to avoid using globals):</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [109]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>

<span class="k">def</span> <span class="nf">foo</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># This is local</span>
    
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># This is the global</span>
<span class="n">foo</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>2
2
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [110]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>

<span class="k">def</span> <span class="nf">foo</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">x</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
    
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">foo</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>2
1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Functions can be nested. In Python 3 you can declare a variable as "nonlocal" to access an outer but non-global scope.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [111]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">outside</span><span class="p">():</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="s2">"Outside!"</span>
    <span class="k">def</span> <span class="nf">inside</span><span class="p">():</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">"Inside!"</span>  <span class="c1"># This is different to the one in outside()</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="n">inside</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    
<span class="n">outside</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Inside!
Outside!
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [112]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">outside</span><span class="p">():</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="s2">"Outside!"</span>
    <span class="k">def</span> <span class="nf">inside</span><span class="p">():</span>
        <span class="k">nonlocal</span> <span class="n">msg</span>  <span class="c1"># This is the same as the one in outside()</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">"Inside!"</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="n">inside</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    
<span class="n">outside</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Inside!
Inside!
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It is good practice to follow the <code>def</code> line with a <em>docstring</em> to document the function. There are different conventions for how this should be formatted; I like the Google style: <a href="http://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html">http://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [113]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="sd">"""Adds two objects and returns the result.</span>

<span class="sd">    Args:</span>
<span class="sd">        a: The first parameter.</span>
<span class="sd">        b: The second parameter.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The result of adding a and b.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="c1"># Now we can use help() to get the docstring.</span>
<span class="n">help</span><span class="p">(</span><span class="n">add</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Help on function add in module __main__:

add(a, b)
    Adds two objects and returns the result.
    
    Args:
        a: The first parameter.
        b: The second parameter.
    
    Returns:
        The result of adding a and b.

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can return multiple values from a function (really just a tuple):</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [114]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">sum_diff</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="o">-</span><span class="n">b</span>

<span class="nb">print</span><span class="p">(</span><span class="n">sum_diff</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">sum_diff</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>(5, 1)
9
-1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Python supports continuations with yield (this returns a generator which we will dicuss later):</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [115]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">get_next_even_number</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">v</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">v</span>
    
<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">get_next_even_number</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>2
4
6
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can use <code>*args</code> for a variable number of non-keyword arguments, which will be available internally as a list:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [116]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="n">z</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
        <span class="n">z</span> <span class="o">*=</span> <span class="n">num</span>
    <span class="k">return</span> <span class="n">z</span>
    
<span class="nb">print</span><span class="p">(</span><span class="n">multiply</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>24
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [117]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">'Argument </span><span class="si">{i}</span><span class="s1"> is </span><span class="si">{args[i]}</span><span class="s1">'</span><span class="p">)</span>

        
<span class="n">foo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">'cat'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Argument 0 is 1
Argument 1 is 2
Argument 2 is cat
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For keyword arguments, you can use <code>**kwargs</code>, which will be available internally as a dictionary:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [118]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">'Positional argument </span><span class="si">{i}</span><span class="s1"> is </span><span class="si">{args[i]}</span><span class="s1">'</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">'Keyword argument </span><span class="si">{k}</span><span class="s1"> is </span><span class="si">{v}</span><span class="s1">'</span><span class="p">)</span>
        
<span class="n">foo</span><span class="p">(</span><span class="s1">'cat'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">clothing</span><span class="o">=</span><span class="s1">'hat'</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s1">'mat'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Positional argument 0 is cat
Positional argument 1 is 1
Keyword argument clothing is hat
Keyword argument location is mat
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can mix all types of arguments but the order is important:</p>
<ul>
<li>Formal positional arguments</li>
<li><code>*args</code></li>
<li>Keyword arguments</li>
<li><code>**kwargs</code></li>
</ul>
<p>You can do the opposite as well - pass a list instead of several positional arguments, and a dictionary instead of several keyword arguments, by using <code>*</code> and <code>**</code>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [119]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">pos1</span><span class="p">,</span> <span class="n">pos2</span><span class="p">,</span> <span class="n">named1</span><span class="o">=</span><span class="s1">'a'</span><span class="p">,</span> <span class="n">named2</span><span class="o">=</span><span class="s1">'b'</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s2">"Positional 1 is </span><span class="si">{pos1}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s2">"Positional 2 is </span><span class="si">{pos2}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s2">"Named1 is </span><span class="si">{named1}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s2">"Named1 is </span><span class="si">{named2}</span><span class="s2">"</span><span class="p">)</span>    
    
<span class="n">p</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">n</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'named1'</span><span class="p">:</span> <span class="s1">'cat'</span><span class="p">,</span> <span class="s1">'named2'</span><span class="p">:</span> <span class="s1">'hat'</span><span class="p">}</span>
<span class="n">foo</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">,</span> <span class="o">**</span><span class="n">n</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Positional 1 is 1
Positional 2 is 2
Named1 is cat
Named1 is hat
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The above is actually a common pattern in Python when writing wrapper functions that need to support arbitrary arguments that they are just going to pass on to some other function. For example, say we wanted to write a wrapper that timed the execution of a function:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [120]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>


<span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">'a=</span><span class="si">{a}</span><span class="s1">, b=</span><span class="si">{b}</span><span class="s1">, c=</span><span class="si">{c}</span><span class="s1">'</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">log_time</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
    <span class="n">fn</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">end</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s2">"</span><span class="si">{fn}</span><span class="s2"> took {(end-start).microseconds} microseconds"</span><span class="p">)</span>
    
<span class="n">log_time</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">'hello'</span><span class="p">)</span>
    
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>a=1, b=None, c=hello
&lt;function foo at 0x10ff6dae8&gt; took 58 microseconds
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note that <code>def</code> statements are executed at their level of indentation, and they create function objects that can be called later, including evaluating the default argument values. This means you should be careful when specifying default values for arguments; stick to scalar variables. In particular avoid using things like empty lists! Look at how this can go wrong:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [121]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">beware</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="p">[]):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'gotcha!'</span><span class="p">)</span>
    
<span class="n">beware</span><span class="p">()</span>
<span class="n">beware</span><span class="p">()</span> <span class="c1"># No longer empty list!</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[]
['gotcha!']
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>What heppened above is that the empty list argument was created at function definition time, and at function call time a is assigned a default value which is a reference to the previously created list object. If the list changes those changes will persist.</p>
<p>Instead, use something like:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [122]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">beware</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">a</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">a</span><span class="o">=</span><span class="p">[]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'gotcha!'</span><span class="p">)</span>
    
<span class="n">beware</span><span class="p">()</span>
<span class="n">beware</span><span class="p">()</span> <span class="c1"># Now we are safe</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[]
[]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Finally, you can use <code>lambda</code> to define anonymous functions. These will be very useful when we get to using Pandas for data manipulation:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [123]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">adder</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="n">adder</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[123]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>3</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Classes">Classes<a class="anchor-link" href="posts/python-crash-course.html#Classes">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [124]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Widget</span><span class="p">:</span>  <span class="c1"># same as "class Widget(object):"</span>
    <span class="sd">""" This is a Widget class. """</span>  <span class="c1"># Classes have docstrings too.</span>
    
    <span class="k">def</span> <span class="nf">print_my_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># Instance method as it has a 'self' parameter</span>
        <span class="sd">""" Print the instance class. """</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>  <span class="c1"># __class__ is the easy way to get at an object's class</span>
    
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">print_class</span><span class="p">():</span>  <span class="c1"># Static method as it has no 'self' parameter</span>
        <span class="sd">""" Print the class class. """</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">Widget</span><span class="p">)</span>
        
        
<span class="n">x</span> <span class="o">=</span> <span class="n">Widget</span><span class="p">()</span>  <span class="c1"># We don't use 'new' in Python</span>
<span class="n">x</span><span class="o">.</span><span class="vm">__doc__</span>  <span class="c1"># __doc__ has the docstring</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[124]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>' This is a Widget class. '</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In Python, we can declare a class with <code>class(base)</code>. If the base class is omitted then <code>object</code> is assumed.</p>
<p>As mentioned earlier, instance methods take an explicit <code>self</code> first parameter which references the instance. So if <code>widget</code> is an instance of a <code>Widget</code> class and we call:</p>
<div class="highlight"><pre><span></span><span class="n">widget</span><span class="o">.</span><span class="n">foo</span><span class="p">()</span>
</pre></div>
<p>internally that gets converted to the equivalent of:</p>
<div class="highlight"><pre><span></span><span class="n">Widget</span><span class="o">.</span><span class="n">foo</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>
</pre></div>
<p>To declare an instance method, we omit the <code>self</code> argument and use a <code>staticmethod</code> decorator. The latter prevents the instance being passed as a parameter when we call the method from that instance.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [125]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Help on Widget in module __main__ object:

class Widget(builtins.object)
 |  This is a Widget class.
 |  
 |  Methods defined here:
 |  
 |  print_my_class(self)
 |      Print the instance class.
 |  
 |  ----------------------------------------------------------------------
 |  Static methods defined here:
 |  
 |  print_class()
 |      Print the class class.
 |  
 |  ----------------------------------------------------------------------
 |  Data descriptors defined here:
 |  
 |  __dict__
 |      dictionary for instance variables (if defined)
 |  
 |  __weakref__
 |      list of weak references to the object (if defined)

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [126]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">print_my_class</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class '__main__.Widget'&gt;
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [127]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">print_class</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class '__main__.Widget'&gt;
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [128]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Widget</span><span class="o">.</span><span class="n">print_class</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class '__main__.Widget'&gt;
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [129]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Widget</span><span class="o">.</span><span class="n">print_my_class</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">TypeError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-129-70eb78ad9fde&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>Widget<span class="ansi-blue-fg">.</span>print_my_class<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">TypeError</span>: print_my_class() missing 1 required positional argument: 'self'</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note that if we had:</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Foo</span><span class="p">():</span>
     <span class="k">def</span> <span class="nf">s1</span><span class="p">():</span>
         <span class="k">print</span><span class="p">(</span><span class="s1">'s1'</span><span class="p">)</span>

     <span class="nd">@staticmethod</span>
     <span class="k">def</span> <span class="nf">s2</span><span class="p">():</span>
         <span class="k">print</span><span class="p">(</span><span class="s1">'s2'</span><span class="p">)</span>
</pre></div>
<p>then we could call <code>Foo.s1()</code> or <code>Foo.s2()</code> with no issues, but if <code>foo</code> was an instance of <code>Foo</code>, while we could call <code>foo.s2()</code> without a problem, if we called <code>foo.s1()</code> we would get an error:</p>

<pre><code>TypeError: s1() takes 0 positional arguments but 1 was given</code></pre>
<p>because Python would try to pass the instance as a parameter as it is missing @staticdecorator.</p>
<p>We can get the docstring of the class and more with <code>help</code>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [130]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">Widget</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Help on class Widget in module __main__:

class Widget(builtins.object)
 |  This is a Widget class.
 |  
 |  Methods defined here:
 |  
 |  print_my_class(self)
 |      Print the instance class.
 |  
 |  ----------------------------------------------------------------------
 |  Static methods defined here:
 |  
 |  print_class()
 |      Print the class class.
 |  
 |  ----------------------------------------------------------------------
 |  Data descriptors defined here:
 |  
 |  __dict__
 |      dictionary for instance variables (if defined)
 |  
 |  __weakref__
 |      list of weak references to the object (if defined)

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Constructors-and-visibility">Constructors and visibility<a class="anchor-link" href="posts/python-crash-course.html#Constructors-and-visibility">¶</a>
</h4>
<p>A class does not require a constructor, but can have (at most) one. The constructor is an instance method named <code>__init__</code>. It can take additional parameters other than <code>self</code>.</p>
<p>Python does not support private or protected members. By convention, private members should be named starting with an underscore, but this is an 'honor system'; everything is public. Also by convention, you should avoid double underscores; that should be reerved for dunder-methods.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [131]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Bug</span><span class="p">:</span>
    <span class="sd">""" A class for creepy crawly things. """</span>
    
    <span class="n">heads</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># This is a class variable</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">legs</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">'bug'</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">legs</span> <span class="o">=</span> <span class="n">legs</span>  <span class="c1"># Any variable assigned to with self.var = ... in constructor is an instance variable</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_article</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>  <span class="c1"># 'private' class method</span>
        <span class="sd">""" Return the English article for the given name. """</span>
        <span class="k">return</span> <span class="s1">'an'</span><span class="k">if</span> <span class="s1">'aeiouAEIOU'</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">'a'</span>

    <span class="k">def</span> <span class="nf">article</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># 'public' instance method</span>
        <span class="sd">""" Return the English article for the given name. """</span>
        <span class="k">return</span> <span class="n">Bug</span><span class="o">.</span><span class="n">_article</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># __repr__ is called to get a printable representation of an object</span>
        <span class="k">return</span> <span class="n">f</span><span class="s2">"I'm {Bug._article(self.name)} </span><span class="si">{self.name}</span><span class="s2"> with </span><span class="si">{self.legs}</span><span class="s2"> legs"</span>

<span class="c1"># Notice how help() will show help for article() but not _article().</span>
<span class="c1"># It respects the '_' convention for 'privacy'.</span>
<span class="n">help</span><span class="p">(</span><span class="n">Bug</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Help on class Bug in module __main__:

class Bug(builtins.object)
 |  A class for creepy crawly things.
 |  
 |  Methods defined here:
 |  
 |  __init__(self, legs=6, name='bug')
 |      Initialize self.  See help(type(self)) for accurate signature.
 |  
 |  __repr__(self)
 |      Return repr(self).
 |  
 |  article(self)
 |      Return the English article for the given name.
 |  
 |  ----------------------------------------------------------------------
 |  Data descriptors defined here:
 |  
 |  __dict__
 |      dictionary for instance variables (if defined)
 |  
 |  __weakref__
 |      list of weak references to the object (if defined)
 |  
 |  ----------------------------------------------------------------------
 |  Data and other attributes defined here:
 |  
 |  heads = 1

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [132]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Bug</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[132]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>I'm a bug with 6 legs</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [133]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Bug</span><span class="p">(</span><span class="n">legs</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[133]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>I'm a bug with 8 legs</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It is recommended to always define a <code>__repr__</code> method on your classes.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Inheritance">Inheritance<a class="anchor-link" href="posts/python-crash-course.html#Inheritance">¶</a>
</h4>
<p>Python supports both single and multiple inheritance (which we won't discuss). To up-call to a base method with single-inheritance we use <code>super()</code>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [134]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Insect</span><span class="p">(</span><span class="n">Bug</span><span class="p">):</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'insect'</span><span class="p">)</span>
        
<span class="n">Insect</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[134]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>I'm an insect with 6 legs</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [135]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Spider</span><span class="p">(</span><span class="n">Bug</span><span class="p">):</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">legs</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">'spider'</span><span class="p">)</span>
        
<span class="n">Spider</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[135]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>I'm a spider with 8 legs</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Under-the-Hood">Under the Hood<a class="anchor-link" href="posts/python-crash-course.html#Under-the-Hood">¶</a>
</h4>
<p>You can skip this section if you're not interested, but it can be useful to have some understanding of how classes work in Python.</p>
<p>Classes and class instances both have a <code>.__dict__</code> attribute that holds their methods and variables/attributes. For example:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [136]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Example</span><span class="p">:</span>
    <span class="sd">""" this is a class docopt string. """</span>
    
    <span class="n">class_var</span> <span class="o">=</span> <span class="s1">'this is a class variable'</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">""" This is an instance docopt string. """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instance_var</span> <span class="o">=</span> <span class="s1">'this is an instance var'</span>
        
    <span class="k">def</span> <span class="nf">class_method</span><span class="p">():</span>
        <span class="sd">""" This is a class method docopt string. """</span>
        <span class="k">pass</span>
    
    <span class="k">def</span> <span class="nf">instance_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance_var</span>
    
<span class="n">Example</span><span class="o">.</span><span class="vm">__dict__</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[136]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>mappingproxy({'__dict__': &lt;attribute '__dict__' of 'Example' objects&gt;,
              '__doc__': ' this is a class docopt string. ',
              '__init__': &lt;function __main__.Example.__init__&gt;,
              '__module__': '__main__',
              '__weakref__': &lt;attribute '__weakref__' of 'Example' objects&gt;,
              'class_method': &lt;function __main__.Example.class_method&gt;,
              'class_var': 'this is a class variable',
              'instance_method': &lt;function __main__.Example.instance_method&gt;})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In the case of classes we really have a special object, a <code>mappingproxy</code>; this is a wrapper around a dictionary that makes it read-only and enforces that all keys are strings.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [137]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Similarly for an instance, although this really is a dict, not a mappingproxy.</span>
<span class="n">e</span> <span class="o">=</span> <span class="n">Example</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>{'instance_var': 'this is an instance var'}
&lt;class 'dict'&gt;
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [138]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Instances have a .__class__ attribute that points to their class.</span>
<span class="n">e</span><span class="o">.</span><span class="vm">__class__</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[138]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>__main__.Example</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [139]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># To change a class variable, qualify with the class name:</span>

<span class="n">e2</span> <span class="o">=</span> <span class="n">Example</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">class_var</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">e2</span><span class="o">.</span><span class="n">class_var</span><span class="p">)</span>

<span class="n">Example</span><span class="o">.</span><span class="n">class_var</span> <span class="o">=</span> <span class="s1">'Changed class var'</span>

<span class="c1"># Note how it is changed for all instances</span>
<span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">class_var</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">e2</span><span class="o">.</span><span class="n">class_var</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>this is a class variable
this is a class variable
Changed class var
Changed class var
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [140]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># If you qualify with an instance instead, you'll end up creating an instance variable instead!</span>
<span class="n">e2</span><span class="o">.</span><span class="n">class_var</span> <span class="o">=</span> <span class="s1">'e2 class var is actually an instance var'</span>
<span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">class_var</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">e2</span><span class="o">.</span><span class="n">class_var</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">e2</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Changed class var
e2 class var is actually an instance var
{'instance_var': 'this is an instance var'}
{'instance_var': 'this is an instance var', 'class_var': 'e2 class var is actually an instance var'}
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [141]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># When we dereference an instance method, we get a *bound method*; the instance method bound to the instance:</span>
<span class="n">e</span><span class="o">.</span><span class="n">instance_method</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[141]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&lt;bound method Example.instance_method of &lt;__main__.Example object at 0x10fe224e0&gt;&gt;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [142]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># We can save a reference to the bound method and call it later and it will use the right instance</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">instance_method</span>
<span class="n">e</span><span class="o">.</span><span class="n">instance_var</span> <span class="o">=</span> <span class="s1">'e</span><span class="se">\'</span><span class="s1">s instance var'</span>
<span class="n">f</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[142]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>"e's instance var"</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There's a lot more to it than this, but this should give you some idea of how Python can support monkey-patching at run-time and other flexibility.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Exceptions">Exceptions<a class="anchor-link" href="posts/python-crash-course.html#Exceptions">¶</a>
</h3>
<p>You can raise an exception with the <code>raise</code> statememt. You can give an instance of any class that derives from the <code>BaseException</code> class. You can catch exceptions using <code>try: except:</code>. If you want to get a reference to the exception, use <code>catch..as..</code>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [143]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">'The dude minds, man!'</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">x</span><span class="p">:</span>  <span class="c1"># Exception is the type of exception to catch, x is the variable to catch it with.</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    
<span class="c1"># You can catch different types of exceptions, and you can use 'raise' on its own in the exception handling</span>
<span class="c1"># block to rethrow the exception.</span>

<span class="k">def</span> <span class="nf">average</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="s2">"Compute the average of an iterable. "</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ZeroDivisionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="k">raise</span>
    <span class="k">return</span> <span class="n">result</span>

<span class="nb">print</span><span class="p">(</span><span class="n">average</span><span class="p">([]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">average</span><span class="p">([</span><span class="s1">'cat'</span><span class="p">]))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>The dude minds, man!
None
</pre>
</div>
</div>

<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">TypeError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-143-d2931b582ed8&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">     18</span> 
<span class="ansi-green-intense-fg ansi-bold">     19</span> print<span class="ansi-blue-fg">(</span>average<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">---&gt; 20</span><span class="ansi-red-fg"> </span>print<span class="ansi-blue-fg">(</span>average<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">'cat'</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">&lt;ipython-input-143-d2931b582ed8&gt;</span> in <span class="ansi-cyan-fg">average</span><span class="ansi-blue-fg">(seq)</span>
<span class="ansi-green-intense-fg ansi-bold">     10</span>     <span class="ansi-blue-fg">"Compute the average of an iterable. "</span>
<span class="ansi-green-intense-fg ansi-bold">     11</span>     <span class="ansi-green-fg">try</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">---&gt; 12</span><span class="ansi-red-fg">         </span>result <span class="ansi-blue-fg">=</span> sum<span class="ansi-blue-fg">(</span>seq<span class="ansi-blue-fg">)</span> <span class="ansi-blue-fg">/</span> len<span class="ansi-blue-fg">(</span>seq<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     13</span>     <span class="ansi-green-fg">except</span> ZeroDivisionError <span class="ansi-green-fg">as</span> e<span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">     14</span>         <span class="ansi-green-fg">return</span> <span class="ansi-green-fg">None</span>

<span class="ansi-red-fg">TypeError</span>: unsupported operand type(s) for +: 'int' and 'str'</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Comprehensions">Comprehensions<a class="anchor-link" href="posts/python-crash-course.html#Comprehensions">¶</a>
</h3>
<p>Comprehensions are a powerful feature in Python, allowing lists, dictionaries and tuples to be constructed from iterative computations with minimal code. These are best illustrated by examples:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [144]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># A list of all squares from 1 to 25</span>
<span class="p">[</span><span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[144]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>[1, 4, 9, 16, 25]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [145]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># A list of all squares from 1 to 1024 except those divisble by 5</span>
<span class="p">[</span><span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">33</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="p">)</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[145]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>[1,
 4,
 9,
 16,
 36,
 49,
 64,
 81,
 121,
 144,
 169,
 196,
 256,
 289,
 324,
 361,
 441,
 484,
 529,
 576,
 676,
 729,
 784,
 841,
 961,
 1024]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [146]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Comprehensions can be nested</span>
<span class="n">t</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s1">'1'</span><span class="p">,</span> <span class="s1">'2'</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">'3'</span><span class="p">,</span> <span class="s1">'4'</span><span class="p">]</span>
<span class="p">]</span>

<span class="c1"># Make a list of lists from t where we convert the strings to floats</span>
<span class="p">[[</span><span class="nb">float</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">t</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[146]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>[[1.0, 2.0], [3.0, 4.0]]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [147]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Dictionary comprehension</span>
<span class="p">{</span> <span class="n">f</span><span class="s1">'Square of </span><span class="si">{x}</span><span class="s1">'</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[147]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{'Square of 1': 1,
 'Square of 2': 4,
 'Square of 3': 9,
 'Square of 4': 16,
 'Square of 5': 25}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Iterators-and-Generators">Iterators and Generators<a class="anchor-link" href="posts/python-crash-course.html#Iterators-and-Generators">¶</a>
</h3>
<p>A Python iterator is an object with a <code>__next__</code> method for sequential access, that raises a StopIteration when done.</p>
<p>A Python iterable is an object that defines a <code>__getitem__</code> method that can take sequential integer indices starting from 0 (so not necessarily random access) and raises an IndexError when done, or that has an <code>__iter__</code> method which returns an iterator.</p>
<p>See <a href="https://docs.python.org/3/tutorial/classes.html#iterators">https://docs.python.org/3/tutorial/classes.html#iterators</a> for more; here's an example from that link:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [148]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Reverse</span><span class="p">:</span>
    <span class="sd">"""Iterator for looping over a sequence backwards."""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
    
<span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">Reverse</span><span class="p">(</span><span class="s2">"spam"</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>m
a
p
s
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A generator is an easier way of creating an iterable, by simply writing a function that uses <code>yield</code> instead of <code>return</code>. For example, we can write a generator for Fibonacci numbers like this:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [149]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">fibonacci</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">lasty</span> <span class="o">=</span> <span class="n">y</span>
        <span class="n">y</span> <span class="o">+=</span> <span class="n">x</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">lasty</span>
        <span class="k">yield</span> <span class="n">y</span>
        
<span class="c1">#f = fibonacci()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">fibonacci</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">:</span>
        <span class="k">break</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>1
1
2
3
5
8
13
21
34
55
89
144
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It is worth noting that using these is very idiomatic to Python normally (see the <em>Fluent Python</em> book for example), but in the data science domain, this idiom is more commonly replaced by vectorising. This web-based book goes deep into this different way of thinking: <a href="http://www.labri.fr/perso/nrougier/from-python-to-numpy/">http://www.labri.fr/perso/nrougier/from-python-to-numpy/</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="async/await">async/await<a class="anchor-link" href="posts/python-crash-course.html#async/await">¶</a>
</h3>
<p>Python runs as a single-threaded process. That means things like I/O can slow things down a lot. It is possible to use multiple threads - there are several libaries for that - but even with a single thread big improvements are possible with async code. The details are beyond the scope of the bootcamp, but more info is available here: <a href="https://docs.python.org/3/library/asyncio-task.html">https://docs.python.org/3/library/asyncio-task.html</a>. Recent changes in Python have made this much more powerful, flexible and easy to use.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Type-Annotations">Type Annotations<a class="anchor-link" href="posts/python-crash-course.html#Type-Annotations">¶</a>
</h3>
<p>Python has some mechanisms for doing optional type annotations. These can improve execution speed and there are some packages that can enforce type checking at run-time. It's not a bad idea to start using these but they're out of scope of this bootcamp.</p>
<p>See <a href="https://docs.python.org/3/library/typing.html">https://docs.python.org/3/library/typing.html</a> and <a href="http://mypy-lang.org/">http://mypy-lang.org/</a> for more.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Logging">Logging<a class="anchor-link" href="posts/python-crash-course.html#Logging">¶</a>
</h3>
<p>See <a href="https://opensource.com/article/17/9/python-logging">https://opensource.com/article/17/9/python-logging</a> for detals on Python logging.</p>
<p>I recommend looking at Daiquiri, which builds on top of the standard logging library and make things easy:</p>
<p><a href="https://julien.danjou.info/blog/python-logging-easy-with-daiquiri">https://julien.danjou.info/blog/python-logging-easy-with-daiquiri</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [150]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="o">!{</span>sys.executable<span class="o">}</span> -m pip install daiquiri
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Collecting daiquiri
  Downloading daiquiri-1.3.0-py2.py3-none-any.whl
Installing collected packages: daiquiri
Successfully installed daiquiri-1.3.0
<span class="ansi-yellow-fg">You are using pip version 9.0.1, however version 9.0.3 is available.
You should consider upgrading via the 'pip install --upgrade pip' command.</span>
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [151]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">daiquiri</span>

<span class="n">daiquiri</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">daiquiri</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">"bootcamp"</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">"It works and logs to stderr by default with color!"</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>2018-04-12 19:58:17,065 [13060] INFO     bootcamp: It works and logs to stderr by default with color!
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Debugging">Debugging<a class="anchor-link" href="posts/python-crash-course.html#Debugging">¶</a>
</h3>
<p>Python comes with a debugger, pdb. You can read about using it here: <a href="https://pymotw.com/3/pdb/">https://pymotw.com/3/pdb/</a></p>
<p>You can use pdb within a Jupyter notebook. Just add this code at the point you want to break execution and enter the debugger:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pdb</span><span class="p">;</span> <span class="n">pdb</span><span class="o">.</span><span class="n">set_trace</span><span class="p">()</span>
</pre></div>
<p>Once you're in the debugger, use the command <code>h</code> for help to see the commands available.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Converting-between-Lists/Dictionaries-and-JSON">Converting between Lists/Dictionaries and JSON<a class="anchor-link" href="posts/python-crash-course.html#Converting-between-Lists/Dictionaries-and-JSON">¶</a>
</h3>
<p>Non-tabular data can be stored in dictionaries, which may be nested and contain lists. This is similar to JSON data on the web and in Javascript, and Python provides a <code>json</code> package for converting between these formats.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [152]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>

<span class="n">my_albums</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'Tales of the Inexpressible'</span><span class="p">,</span>
        <span class="s1">'artist'</span><span class="p">:</span> <span class="s1">'Shpongle'</span><span class="p">,</span>
        <span class="s1">'year'</span><span class="p">:</span> <span class="mi">2001</span><span class="p">,</span>
        <span class="s1">'tracks'</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span> <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'Dorset Perception'</span><span class="p">,</span> <span class="s1">'time'</span><span class="p">:</span> <span class="s1">'8:12'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'Star Shpongled Banner'</span><span class="p">,</span> <span class="s1">'time'</span><span class="p">:</span> <span class="s1">'8:23'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'A New Way to Say Hooray!'</span><span class="p">,</span> <span class="s1">'time'</span><span class="p">:</span> <span class="s1">'8:32'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'Room 2ॐ'</span><span class="p">,</span> <span class="s1">'time'</span><span class="p">:</span> <span class="s1">'5:05'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'My Head Feels Like a Frisbee'</span><span class="p">,</span> <span class="s1">'time'</span><span class="p">:</span> <span class="s1">'8:52'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'Shpongleyes'</span><span class="p">,</span> <span class="s1">'time'</span><span class="p">:</span> <span class="s1">'8:56'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'Once Upon the Sea of Blissful Awareness'</span><span class="p">,</span> <span class="s1">'time'</span><span class="p">:</span> <span class="s1">'7:30'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'Around the World in a Tea Daze'</span><span class="p">,</span> <span class="s1">'time'</span><span class="p">:</span> <span class="s1">'11:21'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'Flute Fruit'</span><span class="p">,</span> <span class="s1">'time'</span><span class="p">:</span> <span class="s1">'2:09'</span> <span class="p">},</span>
        <span class="p">],</span>
    <span class="p">}</span>
<span class="p">]</span>

<span class="n">j</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">my_albums</span><span class="p">)</span>  <span class="c1"># Convert to JSON string</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
<span class="n">j</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class 'str'&gt;
</pre>
</div>
</div>

<div class="output_area">

<div class="prompt output_prompt">Out[152]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>'[{"title": "Tales of the Inexpressible", "artist": "Shpongle", "year": 2001, "tracks": [{"title": "Dorset Perception", "time": "8:12"}, {"title": "Star Shpongled Banner", "time": "8:23"}, {"title": "A New Way to Say Hooray!", "time": "8:32"}, {"title": "Room 2\\u0950", "time": "5:05"}, {"title": "My Head Feels Like a Frisbee", "time": "8:52"}, {"title": "Shpongleyes", "time": "8:56"}, {"title": "Once Upon the Sea of Blissful Awareness", "time": "7:30"}, {"title": "Around the World in a Tea Daze", "time": "11:21"}, {"title": "Flute Fruit", "time": "2:09"}]}]'</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [153]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>  <span class="c1"># Convert from JSON string to Python object</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>
<span class="n">p</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class 'list'&gt;
</pre>
</div>
</div>

<div class="output_area">

<div class="prompt output_prompt">Out[153]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>[{'artist': 'Shpongle',
  'title': 'Tales of the Inexpressible',
  'tracks': [{'time': '8:12', 'title': 'Dorset Perception'},
   {'time': '8:23', 'title': 'Star Shpongled Banner'},
   {'time': '8:32', 'title': 'A New Way to Say Hooray!'},
   {'time': '5:05', 'title': 'Room 2ॐ'},
   {'time': '8:52', 'title': 'My Head Feels Like a Frisbee'},
   {'time': '8:56', 'title': 'Shpongleyes'},
   {'time': '7:30', 'title': 'Once Upon the Sea of Blissful Awareness'},
   {'time': '11:21', 'title': 'Around the World in a Tea Daze'},
   {'time': '2:09', 'title': 'Flute Fruit'}],
  'year': 2001}]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Dates-and-Times">Dates and Times<a class="anchor-link" href="posts/python-crash-course.html#Dates-and-Times">¶</a>
</h3>
<p>It's worth briefly discussing Python's support for date and time operations as these are relevant to the exploratory data analysis we will be doing.</p>
<p>The standard library has two modules related to this area:</p>
<ul>
<li>
<code>time</code>, which includes many low-level wrappers around platform C APIs. In particular, routines that convert between epoch time (from Jan 1, 1970) to the various time components found in a C <code>tm</code> struct. The most useful functions here are related to getting the system time zone and the <code>time.sleep()</code> function which pauses execution;</li>
<li>
<code>datetime</code> which provides a more high-level set of functions for dealing with dates, times, and time intervals; this is the module we will focus on here.</li>
</ul>
<p>In addition to this, there are some good third-party libraries to be aware of, that, amongst other things, provide flexible date parsing operations from different formats. The most commonly used one, that extends the functionality of <code>datetime</code>, is <code>dateutil</code> (<a href="https://dateutil.readthedocs.io/en/stable/">https://dateutil.readthedocs.io/en/stable/</a>) but another that is growing in popularity is <code>arrow</code> (<a href="http://arrow.readthedocs.io/en/latest/">http://arrow.readthedocs.io/en/latest/</a>) which provides a completely different approach with a very natural API.</p>
<p>The <code>datetime</code> module (<a href="https://docs.python.org/3.6/library/datetime.html">https://docs.python.org/3.6/library/datetime.html</a>) defines five classes:</p>
<ul>
<li>
<code>datetime</code>, combining a date and time</li>
<li>
<code>date</code>, a date only with no time component</li>
<li>
<code>time</code>, a time of day only, with no date component</li>
<li>
<code>timedelta</code>, an interval between two points in time</li>
<li>
<code>tzinfo</code>, a class that contains information about a time zone</li>
</ul>
<h3 id="Cool-Stuff">Cool Stuff<a class="anchor-link" href="posts/python-crash-course.html#Cool-Stuff">¶</a>
</h3>
<p>Notable Python features: <a href="https://github.com/tukkek/notablepython">https://github.com/tukkek/notablepython</a></p>
<p>Concise reference: <a href="https://github.com/mattharrison/Tiny-Python-3.6-Notebook">https://github.com/mattharrison/Tiny-Python-3.6-Notebook</a></p>
<p>The Hitchhikers Guide to Python documents many best practices: <a href="http://docs.python-guide.org/en/latest/">http://docs.python-guide.org/en/latest/</a></p>
<p>Easily add progress bars to outer loops (works in Jupyter and console): <a href="https://pypi.python.org/pypi/tqdm">https://pypi.python.org/pypi/tqdm</a></p>
<p>For anyone who wants to get really serious about Python, Mark Lutz's and David Beazley's books are good but some are dated, but the best book on the language itself is IMO "Fluent Python" by Luciano Ramalho. There are also many excellent talks at <a href="http://pyvideo.org/">http://pyvideo.org/</a>.</p>
<p>Blog aggregator for Python: <a href="http://planetpython.org/">http://planetpython.org/</a></p>
<p>If you're interested in what the underlying Python byte code looks like for a function or class you can use the <code>dis</code> module:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [154]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">dis</span>

<span class="n">dis</span><span class="o">.</span><span class="n">dis</span><span class="p">(</span><span class="n">Widget</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Disassembly of print_class:
 11           0 LOAD_GLOBAL              0 (print)
              2 LOAD_GLOBAL              1 (Widget)
              4 CALL_FUNCTION            1
              6 POP_TOP
              8 LOAD_CONST               1 (None)
             10 RETURN_VALUE

Disassembly of print_my_class:
  6           0 LOAD_GLOBAL              0 (print)
              2 LOAD_FAST                0 (self)
              4 LOAD_ATTR                1 (__class__)
              6 CALL_FUNCTION            1
              8 POP_TOP
             10 LOAD_CONST               1 (None)
             12 RETURN_VALUE

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Going-Deeper">Going Deeper<a class="anchor-link" href="posts/python-crash-course.html#Going-Deeper">¶</a>
</h3>
<h4 id="The-sys-module">The sys module<a class="anchor-link" href="posts/python-crash-course.html#The-sys-module">¶</a>
</h4>
<p><code>sys.modules</code> is a dictionary of the currently imported modules. This can be large so let's just look at the names of the first few:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>

<span class="nb">list</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">keys</span><span class="p">())[:</span><span class="mi">20</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[4]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>['builtins',
 'sys',
 '_frozen_importlib',
 '_imp',
 '_warnings',
 '_thread',
 '_weakref',
 '_frozen_importlib_external',
 '_io',
 'marshal',
 'posix',
 'zipimport',
 'encodings',
 'codecs',
 '_codecs',
 'encodings.aliases',
 'encodings.utf_8',
 '_signal',
 '__main__',
 'encodings.latin_1']</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>sys.path</code> is the path to look for imports:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [156]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sys</span><span class="o">.</span><span class="n">path</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[156]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>['',
 '/Users/gram/anaconda/lib/python36.zip',
 '/Users/gram/anaconda/lib/python3.6',
 '/Users/gram/anaconda/lib/python3.6/lib-dynload',
 '/Users/gram/.local/lib/python3.6/site-packages',
 '/Users/gram/anaconda/lib/python3.6/site-packages',
 '/Users/gram/anaconda/lib/python3.6/site-packages/aeosa',
 '/Users/gram/anaconda/lib/python3.6/site-packages/IPython/extensions',
 '/Users/gram/.ipython']</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Using-Threads-and-Processes">Using Threads and Processes<a class="anchor-link" href="posts/python-crash-course.html#Using-Threads-and-Processes">¶</a>
</h4>
<p>See <a href="https://medium.com/@bfortuner/python-multithreading-vs-multiprocessing-73072ce5600b">https://medium.com/@bfortuner/python-multithreading-vs-multiprocessing-73072ce5600b</a></p>
<h4 id="Extending-Python-with-C-code">Extending Python with C code<a class="anchor-link" href="posts/python-crash-course.html#Extending-Python-with-C-code">¶</a>
</h4>
<p>See <a href="https://dbader.org/blog/python-ctypes-tutorial#">https://dbader.org/blog/python-ctypes-tutorial#</a>.</p>
<h4 id="Functional-Programming-in-Python">Functional Programming in Python<a class="anchor-link" href="posts/python-crash-course.html#Functional-Programming-in-Python">¶</a>
</h4>
<p>See <a href="https://docs.python.org/dev/howto/functional.html#iterators">https://docs.python.org/dev/howto/functional.html#iterators</a> and <a href="http://coconut-lang.org/">http://coconut-lang.org/</a></p>
<h4 id="Making-HTTP-Requests-and-Parsing-Responses">Making HTTP Requests and Parsing Responses<a class="anchor-link" href="posts/python-crash-course.html#Making-HTTP-Requests-and-Parsing-Responses">¶</a>
</h4>
<p>There are numerous ways to do this in Python, but the most commonly used libraries for these are <code>requests</code> (<a href="http://docs.python-requests.org/en/master/">http://docs.python-requests.org/en/master/</a>) and Beautiful Soup (<a href="https://www.crummy.com/software/BeautifulSoup/">https://www.crummy.com/software/BeautifulSoup/</a>); look at those first before considering anything else as they are powerful, stable, mature and easy to use. Kenneth Reitz, who wrote <code>requests</code>, has recently implemented a new library on top of both <code>requests</code> and Beautiful Soup: <a href="https://github.com/kennethreitz/requests-html">https://github.com/kennethreitz/requests-html</a></p>
<h3 id="Great-Python-Books-and-Courses">Great Python Books and Courses<a class="anchor-link" href="posts/python-crash-course.html#Great-Python-Books-and-Courses">¶</a>
</h3>
<p>Michael Kennedy hosts two great podcasts (<a href="https://talkpython.fm/">https://talkpython.fm/</a>, and <a href="https://pythonbytes.fm/">https://pythonbytes.fm/</a>, with Brian Okken). He also has some high quality courses available at <a href="https://training.talkpython.fm/courses/all">https://training.talkpython.fm/courses/all</a></p>
<p>These are affiliate links and I may earn a small commission:</p>
<div>
<a target="_blank" href="https://www.amazon.com/gp/product/1491946008/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1491946008&amp;linkCode=as2&amp;tag=grahamwheel0b-20&amp;linkId=3dfc19e408c94e94f7fd3a5841c39b87" style="float:left;margin:50px"><img border="0" src="//ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;MarketPlace=US&amp;ASIN=1491946008&amp;ServiceVersion=20070822&amp;ID=AsinImage&amp;WS=1&amp;Format=_SL250_&amp;tag=grahamwheel0b-20"></a><img src="//ir-na.amazon-adsystem.com/e/ir?t=grahamwheel0b-20&amp;l=am2&amp;o=1&amp;a=1491946008" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;"><a target="_blank" href="https://www.amazon.com/gp/product/1449340377/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1449340377&amp;linkCode=as2&amp;tag=grahamwheel0b-20&amp;linkId=19717b8c5fe27b22d5b0b1c4b9bc5770" style="float:left;margin:50px"><img border="0" src="//ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;MarketPlace=US&amp;ASIN=1449340377&amp;ServiceVersion=20070822&amp;ID=AsinImage&amp;WS=1&amp;Format=_SL250_&amp;tag=grahamwheel0b-20"></a><img src="//ir-na.amazon-adsystem.com/e/ir?t=grahamwheel0b-20&amp;l=am2&amp;o=1&amp;a=1449340377" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;"><a target="_blank" href="https://www.amazon.com/gp/product/1775093301/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1775093301&amp;linkCode=as2&amp;tag=grahamwheel0b-20&amp;linkId=dd7f499aedb5be7000cde0988298a932" style="float:left;margin:50px"><img border="0" src="//ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;MarketPlace=US&amp;ASIN=1775093301&amp;ServiceVersion=20070822&amp;ID=AsinImage&amp;WS=1&amp;Format=_SL250_&amp;tag=grahamwheel0b-20"></a><img src="//ir-na.amazon-adsystem.com/e/ir?t=grahamwheel0b-20&amp;l=am2&amp;o=1&amp;a=1775093301" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;">
</div>
</div>
</div>
</div>
    </div>
  </div>

    </section><footer class="post-meta"><a href="authors/graham-wheeler.html">Graham Wheeler</a>

        on

        <time class="post-date" datetime="2018-04-12T20:10:00-07:00">
            2018-04-12 20:10
        </time></footer></article><article class="post post"><header class="post-header"><h2 class="post-title"><a href="posts/blogagain.html">Blogging again</a></h2>
    </header><section class="post-excerpt"><div>
<p>Well, it's been quite a while since I last blogged. My Zite project is not dead; it's actually up and 
running well as a personal aggregator but not ready for multi-user access, and I'm not sure when it
might be. But I've been feeling a bit of an itch to start blogging again so here goes.</p>
<p>I have some material already lined up: I've been teaching an introductory data science bootcamp at
work and thought the notebooks from that could be useful blog posts in and of themselves. So I'll
start slowly publishing those while I write some new material. I'm also going to expand the scope 
of this blog; I'll still cover some tech topics but I',m going to fold in the content from my
dormant math blog and retire it; this may inspire me to do some math blogging again. And I'll be 
throwing in some stuff on management and psychology too. So this will be a mishmash living up to 
the random forest name. I'll use categories to make it more accessible for those only interested
in specific topics.</p>
<p>More soon!</p>
</div>
    </section><footer class="post-meta"><a href="authors/graham-wheeler.html">Graham Wheeler</a>

        on

        <time class="post-date" datetime="2018-04-11T21:00:00-07:00">
            2018-04-11 21:00
        </time></footer></article><article class="post post"><header class="post-header"><h2 class="post-title"><a href="posts/zite-replacement-11.html">Building a Zite Replacement (Part 11)</a></h2>
    </header><section class="post-excerpt"><div>
<p>It's been a while since I worked on this but it is still on my mind a lot. I've been mulling over ways to improve categorization without the semi-supervised tweaking I've had to do.</p>
<p>Just to recap, currently this is what I am doing:</p>
<ul>
<li>I have a bunch of 'category exemplars', which are sets of key terms associated with a category. These are the things which currently require some manual work;</li>
<li>for each article, I extract the plain text, normalize capitalization, remove <a href="https://en.wikipedia.org/wiki/Stop_words">stop words</a>, then use <a href="https://en.wikipedia.org/wiki/Tf-idf">tf-idf</a> to extract the set of most significant terms (I'm not yet doing <a href="https://en.wikipedia.org/wiki/Stemming">stemming</a> although I'll probably start);</li>
<li>I then use a <a href="https://en.wikipedia.org/wiki/Metric_(mathematics)">distance metric</a> from the exemplars to assign category scores to the articles. Provided the score exceeds a threshold the article will be considered to be in the category.</li>
</ul>
<p>The manual work right now comes in when I notice <a href="https://en.wikipedia.org/wiki/False_positives_and_false_negatives">false positives and negatives</a>. My basic web app has the ability to show me all the common terms that led to a categorization and/or missed terms leading to a missed categorization. I can use these to tweak the category exemplars to improve classification. Its not ideal; I would far prefer to make this all be automated. The plan is to make use of Wikipedia to help with generating category exemplars. I don't think that this will solve the problem entirely but I am hoping to add one level of abstraction here to potentially reduce the amount of tweaking required.</p>
<p>My initial plan is:</p>
<ul>
<li>take each Wikipedia article, extract the plain text (and probably add stemming), remove stop words, generate term counts, and keep track of outgoing links to other articles</li>
<li>reduce the set of articles to a manageable set. Keep only articles that have a reasonable length (after stop word removal), and at least a certain number of incoming links. The values to use here will be determined empirically once I have these values for the articles</li>
<li>for each article, generate tf-idf scores for terms and keep the top terms (i.e. treat them much as my current category exemplars)</li>
</ul>
<p>The good news is that this can all be automated. The bad news is I'm likely to have many thousands of 'categories'. But here is where a second level of abstraction comes in. For each article from the web I want to classify:</p>
<ul>
<li>generate the set of Wikipedia categories for the article (using cosine distance from the Wikipedia exemplars);</li>
<li>use the Wikipedia categories as the new term sets for the articles when categorizing them</li>
</ul>
<p>I.e. instead of categorizing an article based on the significant terms in the article, do so based on the significant Wikipedia categories for the article.</p>
<p>This may seem like a lot of work to come almost full circle but the hope is that these second level exemplars will be more stable and require less tweaking. As for generating the second-order exemplars, I can make use of all the articles I have categorized so far as a training set for supervized learning.</p>
<p>The next problem is dealing wth the Wikipedia dump. Uncompressed it is close to 60GB. The first task is to split it up into separate articles, which I pan to do with <a href="https://github.com/attardi/wikiextractor">WikiExtractor</a>. After that I may try use my little 4-node ODroid cluster to do the work, which will be a nice intro to my next couple of posts about that! </p>
</div>
    </section><footer class="post-meta"><a href="authors/graham-wheeler.html">Graham Wheeler</a>

        on

        <time class="post-date" datetime="2016-04-23T09:15:00-07:00">
            2016-04-23 09:15
        </time></footer></article><article class="post post"><header class="post-header"><h2 class="post-title"><a href="posts/using-jupyter-as-a-music-notebook.html">Using Jupyter as a Music Notebook</a></h2>
    </header><section class="post-excerpt"><div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I recently started playing guitar again after a long absence and wanted to start making some notes in a digital form. Unfortunately, I didn't find any good tools. There is TeX of course, which can do anything, but I was hoping for something a bit more WYSIWYGy. There are some very good tools availabe for musical scores (MuseScore, Frescobaldi), but I want something that is more like a traditional notebook with lots of notes interspersed with occasional musical notation (in both traditional and tablature forms).</p>
<p>So an obvious potential candidate is Jupyter (nee IPython), but it has no support for musical notation out of the box. But it is doable and in this post I'll walk through how I got it to work on my Mac. This is also my first attempt at using a Jupyter notebook as my blog post in Nikola so I'm kiling two birds with one stone.</p>
<p>I want something that is fairly easy to write the music in. MusicXML isn't too bad, except XML. What little I've seen of Liyponds markup looked pretty unfriendly for the simple use cases I have. A few days ago I stumbled across a Python library called abjad which looked just the ticket. As I write this I have it working for music on the staff but not tablature (I'm not sure it supports that) but I hope by the end of this post I'll have that figured out too!</p>
<p>Abjad relies on Lilypond, so first that has to be installed. It can be downloaded from <a href="http://lilypond.org/macos-x.html">http://lilypond.org/macos-x.html</a>, and then the tarball needs to be uncompressed and the Lilypond.app folder dragged to /Applications. You need to follow the instructions at that link to set up a command line version too. I created a file /usr/local/bin/lilypond for that; my Homebrew install uses that folder so it is already in my path.</p>
<p>Next we need to install Abjad. You should ideally do this in a virtual environment. I use Anaconda and already have one set up, so can do the installation as follows; you may need to prefix this with <code>sudo</code> depending on your setup.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash
pip install abjad<span class="o">[</span>development,ipython<span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Collecting abjad[development,ipython]
  Downloading Abjad-2.16.tar.gz (27.2MB)
Collecting Sphinx&gt;=1.0.7 (from abjad[development,ipython])
  Downloading Sphinx-1.3.5-py2.py3-none-any.whl (1.5MB)
Collecting configobj&gt;=4.7.2 (from abjad[development,ipython])
  Downloading configobj-5.0.6.tar.gz
Collecting ply&gt;=3.4 (from abjad[development,ipython])
  Downloading ply-3.8.tar.gz (157kB)
Collecting pytest&gt;=2.1 (from abjad[development,ipython])
  Downloading pytest-2.8.7-py2.py3-none-any.whl (151kB)
Requirement already satisfied (use --upgrade to upgrade): Pygments&gt;=2.0 in /Users/gram/anaconda/envs/nikola/lib/python3.5/site-packages (from Sphinx&gt;=1.0.7-&gt;abjad[development,ipython])
Requirement already satisfied (use --upgrade to upgrade): six&gt;=1.4 in /Users/gram/anaconda/envs/nikola/lib/python3.5/site-packages (from Sphinx&gt;=1.0.7-&gt;abjad[development,ipython])
Collecting alabaster&lt;0.8,&gt;=0.7 (from Sphinx&gt;=1.0.7-&gt;abjad[development,ipython])
  Downloading alabaster-0.7.7-py2.py3-none-any.whl
Collecting babel!=2.0,&gt;=1.3 (from Sphinx&gt;=1.0.7-&gt;abjad[development,ipython])
  Downloading Babel-2.2.0-py2.py3-none-any.whl (6.5MB)
Collecting snowballstemmer&gt;=1.1 (from Sphinx&gt;=1.0.7-&gt;abjad[development,ipython])
  Downloading snowballstemmer-1.2.1-py2.py3-none-any.whl (64kB)
Collecting sphinx-rtd-theme&lt;2.0,&gt;=0.1 (from Sphinx&gt;=1.0.7-&gt;abjad[development,ipython])
  Downloading sphinx_rtd_theme-0.1.9-py3-none-any.whl (693kB)
Requirement already satisfied (use --upgrade to upgrade): Jinja2&gt;=2.3 in /Users/gram/anaconda/envs/nikola/lib/python3.5/site-packages (from Sphinx&gt;=1.0.7-&gt;abjad[development,ipython])
Requirement already satisfied (use --upgrade to upgrade): docutils&gt;=0.11 in /Users/gram/anaconda/envs/nikola/lib/python3.5/site-packages (from Sphinx&gt;=1.0.7-&gt;abjad[development,ipython])
Collecting py&gt;=1.4.29 (from pytest&gt;=2.1-&gt;abjad[development,ipython])
  Downloading py-1.4.31-py2.py3-none-any.whl (81kB)
Collecting pytz&gt;=0a (from babel!=2.0,&gt;=1.3-&gt;Sphinx&gt;=1.0.7-&gt;abjad[development,ipython])
  Downloading pytz-2015.7-py2.py3-none-any.whl (476kB)
Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /Users/gram/anaconda/envs/nikola/lib/python3.5/site-packages (from Jinja2&gt;=2.3-&gt;Sphinx&gt;=1.0.7-&gt;abjad[development,ipython])
Building wheels for collected packages: abjad, configobj, ply
  Running setup.py bdist_wheel for abjad: started
  Running setup.py bdist_wheel for abjad: finished with status 'done'
  Stored in directory: /Users/gram/Library/Caches/pip/wheels/9c/61/2d/e0a56fe03a96b4603c07e7135aa8f125f277582d32f93f3607
  Running setup.py bdist_wheel for configobj: started
  Running setup.py bdist_wheel for configobj: finished with status 'done'
  Stored in directory: /Users/gram/Library/Caches/pip/wheels/d0/18/3a/88a9e8e07940560496c247872870978bf9b6cd5d914c0eac3e
  Running setup.py bdist_wheel for ply: started
  Running setup.py bdist_wheel for ply: finished with status 'done'
  Stored in directory: /Users/gram/Library/Caches/pip/wheels/d9/34/fe/b9f5d00d8690911944b0c24811ed7f5fb2c5d89f9c4d6053c7
Successfully built abjad configobj ply
Installing collected packages: alabaster, pytz, babel, snowballstemmer, sphinx-rtd-theme, Sphinx, configobj, ply, py, pytest, abjad
Successfully installed Sphinx-1.3.5 abjad-2.16 alabaster-0.7.7 babel-2.2.0 configobj-5.0.6 ply-3.8 py-1.4.31 pytest-2.8.7 pytz-2015.7 snowballstemmer-1.2.1 sphinx-rtd-theme-0.1.9
</pre>
</div>
</div>

<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>  Abjad 2.16 does not provide the extra 'development'
  Abjad 2.16 does not provide the extra 'ipython'
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note how there are no spaces in the argument to <code>pip install</code>. The Abjad documentation shows spaces at the time I write this but that is incorrect; I have reported the issue and it should be corrected.</p>
<p>It's also possible that the <code>development</code> and <code>ipython</code> extensions are irrelevant. The error message above suggests they may be. However, I'm including them as that is what the documentation states.</p>
<p>To have MIDI output recorded in the notebook, fluidsynth is needed. This requires Homebrew or MacPorts on a Mac. I have Homebrew so I do the installation with:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash

brew install fluidsynth --with-libsndfile
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>==&gt; Installing dependencies for fluid-synth: flac, libogg, libvorbis, libsndfile
==&gt; Installing fluid-synth dependency: flac
==&gt; Downloading https://homebrew.bintray.com/bottles/flac-1.3.1.el_capitan.bottle.tar.gz
==&gt; Pouring flac-1.3.1.el_capitan.bottle.tar.gz
🍺  /usr/local/Cellar/flac/1.3.1: 50 files, 2.3M
==&gt; Installing fluid-synth dependency: libogg
==&gt; Downloading https://homebrew.bintray.com/bottles/libogg-1.3.2.el_capitan.bottle.tar.gz
==&gt; Pouring libogg-1.3.2.el_capitan.bottle.tar.gz
🍺  /usr/local/Cellar/libogg/1.3.2: 95 files, 668K
==&gt; Installing fluid-synth dependency: libvorbis
==&gt; Downloading https://homebrew.bintray.com/bottles/libvorbis-1.3.5.el_capitan.bottle.tar.gz
==&gt; Pouring libvorbis-1.3.5.el_capitan.bottle.tar.gz
🍺  /usr/local/Cellar/libvorbis/1.3.5: 155 files, 2.6M
==&gt; Installing fluid-synth dependency: libsndfile
==&gt; Downloading https://homebrew.bintray.com/bottles/libsndfile-1.0.25.el_capitan.bottle.1.tar.gz
==&gt; Pouring libsndfile-1.0.25.el_capitan.bottle.1.tar.gz
🍺  /usr/local/Cellar/libsndfile/1.0.25: 47 files, 1.8M
==&gt; Installing fluid-synth
==&gt; Downloading https://downloads.sourceforge.net/project/fluidsynth/fluidsynth-1.1.6/fluidsynth-1.1.6.tar.gz
==&gt; Downloading from http://iweb.dl.sourceforge.net/project/fluidsynth/fluidsynth-1.1.6/fluidsynth-1.1.6.tar.gz
==&gt; cmake .. -DCMAKE_C_FLAGS_RELEASE= -DCMAKE_CXX_FLAGS_RELEASE= -DCMAKE_INSTALL_PREFIX=/usr/local/Cellar/fluid-synth/1.1.6 -DCMAKE_BUILD_TYPE=Release -DCMAKE_FIND_FRAMEWORK=LAST -DCMAKE_VERBOSE_MAKEFILE=ON -Wno-dev -Denable-framework=OFF -DLIB_SUFFIX=
==&gt; make install
🍺  /usr/local/Cellar/fluid-synth/1.1.6: 29 files, 556K, built in 24 seconds
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we should be able to load Abjad, as follows:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%</span><span class="k">load_ext</span> abjad.ext.ipython
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>and test it:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">abjad</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">duration</span> <span class="o">=</span> <span class="n">Duration</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">notes</span> <span class="o">=</span> <span class="p">[</span><span class="n">Note</span><span class="p">(</span><span class="n">pitch</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span> <span class="k">for</span> <span class="n">pitch</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)]</span>
<span class="n">staff</span> <span class="o">=</span> <span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">AttributeError</span>                            Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-3-b2e3fd3821b2&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> notes <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">[</span>Note<span class="ansi-blue-fg">(</span>pitch<span class="ansi-blue-fg">,</span> duration<span class="ansi-blue-fg">)</span> <span class="ansi-green-fg">for</span> pitch <span class="ansi-green-fg">in</span> range<span class="ansi-blue-fg">(</span><span class="ansi-cyan-fg">8</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">]</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span> staff <span class="ansi-blue-fg">=</span> Staff<span class="ansi-blue-fg">(</span>notes<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">----&gt; 4</span><span class="ansi-red-fg"> </span>show<span class="ansi-blue-fg">(</span>staff<span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">/Users/gram/anaconda/envs/nikola/lib/python3.5/site-packages/abjad/tools/ipythontools/Show.py</span> in <span class="ansi-cyan-fg">__call__</span><span class="ansi-blue-fg">(self, expr)</span>
<span class="ansi-green-intense-fg ansi-bold">     23</span>             <span class="ansi-blue-fg">'output.png'</span><span class="ansi-blue-fg">,</span>
<span class="ansi-green-intense-fg ansi-bold">     24</span>             )
<span class="ansi-green-fg">---&gt; 25</span><span class="ansi-red-fg">         </span>result <span class="ansi-blue-fg">=</span> topleveltools<span class="ansi-blue-fg">.</span>persist<span class="ansi-blue-fg">(</span>expr<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">.</span>as_png<span class="ansi-blue-fg">(</span>temporary_file_path<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     26</span>         pngs <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">]</span>
<span class="ansi-green-intense-fg ansi-bold">     27</span>         <span class="ansi-green-fg">for</span> file_path <span class="ansi-green-fg">in</span> result<span class="ansi-blue-fg">[</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">/Users/gram/anaconda/envs/nikola/lib/python3.5/site-packages/abjad/tools/agenttools/PersistenceAgent.py</span> in <span class="ansi-cyan-fg">as_png</span><span class="ansi-blue-fg">(self, png_file_path, remove_ly, illustrate_function, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    340</span>             ly_file_path<span class="ansi-blue-fg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    341</span>             illustrate_function<span class="ansi-blue-fg">=</span>illustrate_function<span class="ansi-blue-fg">,</span>
<span class="ansi-green-fg">--&gt; 342</span><span class="ansi-red-fg">             </span><span class="ansi-blue-fg">**</span>kwargs
<span class="ansi-green-intense-fg ansi-bold">    343</span>             )
<span class="ansi-green-intense-fg ansi-bold">    344</span> 

<span class="ansi-green-fg">/Users/gram/anaconda/envs/nikola/lib/python3.5/site-packages/abjad/tools/agenttools/PersistenceAgent.py</span> in <span class="ansi-cyan-fg">as_ly</span><span class="ansi-blue-fg">(self, ly_file_path, candidacy, illustrate_function, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">     86</span>             <span class="ansi-green-fg">assert</span> <span class="ansi-blue-fg">'__illustrate__'</span> <span class="ansi-green-fg">in</span> dir<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">.</span>_client<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     87</span>             illustrate_function <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>_client<span class="ansi-blue-fg">.</span>__illustrate__
<span class="ansi-green-fg">---&gt; 88</span><span class="ansi-red-fg">         </span>illustration <span class="ansi-blue-fg">=</span> illustrate_function<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">**</span>kwargs<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     89</span>         <span class="ansi-green-fg">if</span> ly_file_path <span class="ansi-green-fg">is</span> <span class="ansi-green-fg">None</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">     90</span>             ly_file_name <span class="ansi-blue-fg">=</span> systemtools<span class="ansi-blue-fg">.</span>IOManager<span class="ansi-blue-fg">.</span>get_next_output_file_name<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">/Users/gram/anaconda/envs/nikola/lib/python3.5/site-packages/abjad/tools/scoretools/Component.py</span> in <span class="ansi-cyan-fg">__illustrate__</span><span class="ansi-blue-fg">(self)</span>
<span class="ansi-green-intense-fg ansi-bold">    115</span>         <span class="ansi-green-fg">from</span> abjad<span class="ansi-blue-fg">.</span>tools <span class="ansi-green-fg">import</span> lilypondfiletools
<span class="ansi-green-intense-fg ansi-bold">    116</span>         <span class="ansi-green-fg">from</span> abjad<span class="ansi-blue-fg">.</span>tools <span class="ansi-green-fg">import</span> markuptools
<span class="ansi-green-fg">--&gt; 117</span><span class="ansi-red-fg">         </span>lilypond_file <span class="ansi-blue-fg">=</span> lilypondfiletools<span class="ansi-blue-fg">.</span>make_basic_lilypond_file<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    118</span>         lilypond_file<span class="ansi-blue-fg">.</span>header_block<span class="ansi-blue-fg">.</span>tagline <span class="ansi-blue-fg">=</span> markuptools<span class="ansi-blue-fg">.</span>Markup<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">'""'</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    119</span>         <span class="ansi-green-fg">return</span> lilypond_file

<span class="ansi-green-fg">/Users/gram/anaconda/envs/nikola/lib/python3.5/site-packages/abjad/tools/lilypondfiletools/make_basic_lilypond_file.py</span> in <span class="ansi-cyan-fg">make_basic_lilypond_file</span><span class="ansi-blue-fg">(music)</span>
<span class="ansi-green-intense-fg ansi-bold">     61</span>     <span class="ansi-green-fg">if</span> isinstance<span class="ansi-blue-fg">(</span>music<span class="ansi-blue-fg">,</span> lilypondfiletools<span class="ansi-blue-fg">.</span>LilyPondFile<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">     62</span>         <span class="ansi-green-fg">return</span> music
<span class="ansi-green-fg">---&gt; 63</span><span class="ansi-red-fg">     </span>lilypond_file <span class="ansi-blue-fg">=</span> lilypondfiletools<span class="ansi-blue-fg">.</span>LilyPondFile<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     64</span>     header_block <span class="ansi-blue-fg">=</span> lilypondfiletools<span class="ansi-blue-fg">.</span>Block<span class="ansi-blue-fg">(</span>name<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">'header'</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     65</span>     layout_block <span class="ansi-blue-fg">=</span> lilypondfiletools<span class="ansi-blue-fg">.</span>Block<span class="ansi-blue-fg">(</span>name<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">'layout'</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">/Users/gram/anaconda/envs/nikola/lib/python3.5/site-packages/abjad/tools/lilypondfiletools/LilyPondFile.py</span> in <span class="ansi-cyan-fg">__init__</span><span class="ansi-blue-fg">(self)</span>
<span class="ansi-green-intense-fg ansi-bold">     80</span>         self<span class="ansi-blue-fg">.</span>_file_initial_user_comments <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">]</span>
<span class="ansi-green-intense-fg ansi-bold">     81</span>         self<span class="ansi-blue-fg">.</span>_file_initial_system_includes <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">]</span>
<span class="ansi-green-fg">---&gt; 82</span><span class="ansi-red-fg">         </span>token <span class="ansi-blue-fg">=</span> lilypondfiletools<span class="ansi-blue-fg">.</span>LilyPondVersionToken<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     83</span>         self<span class="ansi-blue-fg">.</span>_file_initial_system_includes<span class="ansi-blue-fg">.</span>append<span class="ansi-blue-fg">(</span>token<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     84</span>         token <span class="ansi-blue-fg">=</span> lilypondfiletools<span class="ansi-blue-fg">.</span>LilyPondLanguageToken<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">/Users/gram/anaconda/envs/nikola/lib/python3.5/site-packages/abjad/tools/lilypondfiletools/LilyPondVersionToken.py</span> in <span class="ansi-cyan-fg">__init__</span><span class="ansi-blue-fg">(self, version_string)</span>
<span class="ansi-green-intense-fg ansi-bold">     27</span>         <span class="ansi-green-fg">assert</span> isinstance<span class="ansi-blue-fg">(</span>version_string<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">(</span>str<span class="ansi-blue-fg">,</span> type<span class="ansi-blue-fg">(</span><span class="ansi-green-fg">None</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     28</span>         <span class="ansi-green-fg">if</span> version_string <span class="ansi-green-fg">is</span> <span class="ansi-green-fg">None</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">---&gt; 29</span><span class="ansi-red-fg">             </span>version_string <span class="ansi-blue-fg">=</span> abjad_configuration<span class="ansi-blue-fg">.</span>get_lilypond_version_string<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     30</span>         self<span class="ansi-blue-fg">.</span>_version_string <span class="ansi-blue-fg">=</span> version_string
<span class="ansi-green-intense-fg ansi-bold">     31</span> 

<span class="ansi-green-fg">/Users/gram/anaconda/envs/nikola/lib/python3.5/site-packages/abjad/tools/systemtools/AbjadConfiguration.py</span> in <span class="ansi-cyan-fg">get_lilypond_version_string</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">    211</span>         '''
<span class="ansi-green-intense-fg ansi-bold">    212</span>         <span class="ansi-green-fg">from</span> abjad <span class="ansi-green-fg">import</span> abjad_configuration
<span class="ansi-green-fg">--&gt; 213</span><span class="ansi-red-fg">         </span><span class="ansi-green-fg">if</span> subprocess<span class="ansi-blue-fg">.</span>mswindows <span class="ansi-green-fg">and</span> <span class="ansi-green-fg">not</span> <span class="ansi-blue-fg">'LilyPond'</span> <span class="ansi-green-fg">in</span> os<span class="ansi-blue-fg">.</span>environ<span class="ansi-blue-fg">.</span>get<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">'PATH'</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    214</span>             command <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">r'dir "C:\Program Files\*.exe" /s /b | find "lilypond.exe"'</span>
<span class="ansi-green-intense-fg ansi-bold">    215</span>             proc <span class="ansi-blue-fg">=</span> subprocess<span class="ansi-blue-fg">.</span>Popen<span class="ansi-blue-fg">(</span>command<span class="ansi-blue-fg">,</span> shell<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">True</span><span class="ansi-blue-fg">,</span> stdout<span class="ansi-blue-fg">=</span>subprocess<span class="ansi-blue-fg">.</span>PIPE<span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">AttributeError</span>: module 'subprocess' has no attribute 'mswindows'</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Well, that didn't go so well. It turns out Abjad releases aren't that frequent, and while this issue was fixed over six months ago (<a href="https://github.com/Abjad/abjad/issues/526">https://github.com/Abjad/abjad/issues/526</a>) it hasn't made it into an official release yet (Abjad 2.16 as I write this). If you are using Python 3.4 or earlier this isn't a problem; its a Python 3.5 change.</p>
<p>So let's try get the bleeding edge version:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash

<span class="nb">cd</span> ~
git clone https://github.com/Abjad/abjad.git
<span class="nb">cd</span> abjad 
pip install --upgrade .
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Processing /Users/gram/abjad
Requirement already up-to-date: ply in /Users/gram/anaconda/envs/nikola/lib/python3.5/site-packages (from Abjad==2.16)
Requirement already up-to-date: six in /Users/gram/anaconda/envs/nikola/lib/python3.5/site-packages (from Abjad==2.16)
Installing collected packages: Abjad
  Found existing installation: Abjad 2.16
    Uninstalling Abjad-2.16:
      Successfully uninstalled Abjad-2.16
  Running setup.py install for Abjad: started
    Running setup.py install for Abjad: finished with status 'done'
Successfully installed Abjad-2.16
</pre>
</div>
</div>

<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>Cloning into 'abjad'...
Checking out files: 100% (2651/2651), done.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Once that is done, after a kernel reset in Jupyter we can try again:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%</span><span class="k">load_ext</span> abjad.ext.ipython
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">abjad</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">duration</span> <span class="o">=</span> <span class="n">Duration</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">notes</span> <span class="o">=</span> <span class="p">[</span><span class="n">Note</span><span class="p">(</span><span class="n">pitch</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span> <span class="k">for</span> <span class="n">pitch</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)]</span>
<span class="n">staff</span> <span class="o">=</span> <span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Unfortunately, no output was produced. We can look at the source of the <code>show()</code> methd by executing <code>show??</code> in a cell. I've done that and am going to execute the same code in more detail below. First the part that should generate a PNG in a temporary file:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">abjad.tools</span> <span class="kn">import</span> <span class="n">systemtools</span>
<span class="kn">from</span> <span class="nn">abjad.tools</span> <span class="kn">import</span> <span class="n">topleveltools</span>
<span class="kn">from</span> <span class="nn">IPython.core.display</span> <span class="kn">import</span> <span class="n">display_png</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">tempfile</span>

<span class="n">expr</span> <span class="o">=</span> <span class="n">staff</span>

<span class="n">temporary_directory</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">()</span>
<span class="n">temporary_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
    <span class="n">temporary_directory</span><span class="p">,</span>
    <span class="s1">'output.png'</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">topleveltools</span><span class="o">.</span><span class="n">persist</span><span class="p">(</span><span class="n">expr</span><span class="p">)</span><span class="o">.</span><span class="n">as_png</span><span class="p">(</span><span class="n">temporary_file_path</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">temporary_file_path</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>/var/folders/rf/zdnznzn15_l5q5x64pyd7b7m0000gq/T/tmp4vq93m6l/output.png
((), 0.006474018096923828, 0.5328137874603271, False)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Looking at that temporary folder, I see a '.ly' file but no .png. So it seems that this line:</p>

<pre><code>result = topleveltools.persist(expr).as_png(temporary_file_path)

</code></pre>
<p>is not working. Let's break that down:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">topleveltools</span><span class="o">.</span><span class="n">persist</span><span class="p">(</span><span class="n">expr</span><span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>PersistenceAgent(client=Staff("c'4 cs'4 d'4 ef'4 e'4 f'4 fs'4 g'4"))
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>That looks okay. What about the next step? If we look at that <code>as_png</code> function we see it returns the path, the lapsed formatting and rendering times, and a flag for success. We saw ((), 0.006474018096923828, 0.5328137874603271, False) as the output so success was False. I still have the .ly file around and it looks like what is failing is:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">systemtools</span><span class="o">.</span><span class="n">IOManager</span><span class="o">.</span><span class="n">run_lilypond</span><span class="p">(</span><span class="s1">'/var/folders/rf/zdnznzn15_l5q5x64pyd7b7m0000gq/T/tmp4vq93m6l/output.ly'</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="s1">'--png'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[20]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>False</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>So indeed that is the failure. If we look at its source with <code>systemtools.IOManager.run_lilypond??</code>:</p>

<pre><code>@staticmethod
def run_lilypond(ly_path, flags=None, lilypond_path=None):
    r'''Runs LilyPond on `ly_path`.

    Writes redirected output of Unix ``date`` to top line of LilyPond log
    file.

    Then appends redirected output of LilyPond output to the LilyPond log
    file.

    Returns none.
    '''
    from abjad import abjad_configuration
    from abjad.tools import stringtools
    from abjad.tools import systemtools
    if not lilypond_path:
        lilypond_path = abjad_configuration['lilypond_path']
        if not lilypond_path:
            lilypond_path = 'lilypond'
    lilypond_base, extension = os.path.splitext(ly_path)
    pdf_path = ly_path.replace('.ly', '.pdf')
    if flags:
        command = 'date &gt; {};'
        command += ' {} {} -dno-point-and-click -o {} {} &gt;&gt; {} 2&gt;&amp;1'
        command = command.format(
            abjad_configuration.lilypond_log_file_path,
            lilypond_path,
            flags,
            lilypond_base,
            ly_path,
            abjad_configuration.lilypond_log_file_path,
            )
    else:
        command = 'date &gt; {}; {} -dno-point-and-click -o {} {} &gt;&gt; {} 2&gt;&amp;1'
        command = command.format(
            abjad_configuration.lilypond_log_file_path,
            lilypond_path,
            lilypond_base,
            ly_path,
            abjad_configuration.lilypond_log_file_path,
            )
    if not os.path.exists(pdf_path):
        exit_code = IOManager.spawn_subprocess(command)
        postscript_path = ly_path.replace('.ly', '.ps')
        try:
            os.remove(postscript_path)
        except OSError:
            pass
        if exit_code:
            return False
        return True


</code></pre>
<p>we can see that it writes to a log file, with a path given by abjad_configuration.lilypond_log_file_path. Let's look at that:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">abjad_configuration</span><span class="o">.</span><span class="n">lilypond_log_file_path</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[22]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>'/Users/gram/.abjad/output/lily.log'</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash
tail <span class="s1">'/Users/gram/.abjad/output/lily.log'</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Preprocessing graphical objects...
Finding the ideal number of pages...
Fitting music on 1 page...
Drawing systems...
Layout output to `output.ps'...
Converting to PNG...dyld: Library not loaded: ./bin/../sobin/libgs.8.70.dylib
  Referenced from: /Applications/LilyPond.app/Contents/Resources/bin/../bin/gs
  Reason: image not found

fatal error: GS exited with status: 5
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If you do a Google search for that error, you will find its been reported, and there is a workaround, which is:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash
<span class="nb">cd</span> /Applications/LilyPond.app/Contents/Resources/bin
install_name_tool -change ./bin/../sobin/libgs.8.70.dylib @executable_path/../lib/libgs.8.70.dylib gs
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's try again:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">show</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA0MAAASdCAIAAAANMRBpAAAACXBIWXMAAA+IAAAPiAEWyKWGAAAA%0AHXRFWHRTb2Z0d2FyZQBHUEwgR2hvc3RzY3JpcHQgOC43MHQ4WKIAAB37SURBVHic7d0/b1uHvYBh%0A6uLujTpUY4EiQLUkQJHFU9PBndsO1rfoLA311Cz6AF36EcSlme3FXjq5AaIlBgLXHjJYQF2gGQp0%0A0R3OvecyoiRT5qGo136eSaTIw0OJhl6fP7+zc35+PgMAIOi/tr0CAAC8IyUHAFCl5AAAqpQcAECV%0AkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5%0AAIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiW3EfP5fNurAAC8/5Tc9Obz%0A+cHBwc7OzrZXBAB4zym5iQ0ZN3w9fgEAsAk75+fn216H98qFTXF+vADA5tgmN6XljXA2ywEAm2Ob%0A3JQWN8idnJzMZrODgwM/YQBgQ2yTm8zi+aonJycPHjx48ODBzHmsAMDGKLnJjMU2ZNzy/QAA01Jy%0A01vMOACAzVFyExsOj1tkmxxb8ec//3nbqwDAxim5idmvyh0xn88fP3687bUAYLOU3AYpOQBgo5Tc%0AZJYPj1NyAMBGmSe3quPj4+v3VZ2dnX399df3799fvDmbzfb29j755JPbWEWu9t133/373//++OOP%0Ab+flvvrqq5/+9Kc//vGP11nI48ePx4/TRtfhu++++9GPfvTXv/71nV8LgG1RclPa2dkZR5CMU4Iv%0ADCVhK46Ojp49e/bo0aPbeblf//rXh4eH63TYbDbb2Vnrn+fq63DLPxwAJmTv6sSGPaqLF+mScQDA%0Ahii5KY0XdVicErzVNXrPHR0dbWjJRngAkKDkpvTgwYP5fD5ukBsv2MWGHB8fb2jJRngAkKDkpnSh%0A22yQAwA2SslNaTzLYSbjAIDNc+7qqt46hWTxu59++ulPfvKTSV739PR0+GJvb2+qZd4R64/qWH1O%0Ax7fffvv999//4he/uJ11a00h+fbbb2ez2d///vd3fi0AtuacKVzYrzrhMk9OToabwzST8eZ74P79%0A+48ePVpnCav/qId5HKsvec11W/+tnd/k3a25Djf94QBwd9i7OoGDg4PxZNXx9NU1l7mzszOfzxdn%0A0Q0Z57oRAMBIya1rcebIEFvDGazrLHPx7NfFFxrybnFY3Tub5MRMozoAYLuU3LoWq2s4y2H9krv0%0A6eMLTbJZ7vHjx+sPYzOqAwC2S8mtZXHz2Hiy6poz5CbZ5AYAfAiU3FquupbD+pvllo0vYb4JADAw%0AhWRVy1NITk9PX79+PZvN9vb2Pvnkk+HOs7Ozr7/+evFhe3t7NxogMi52NputeQn2awyDJz7++ON1%0AFrL1UR3RKSSnp6fjB+YappAA8HbbPnk2bNyLunzPsgcPHtx0sRv97RweHh4eHq65kAlHdQzv+qZL%0AWP0pd2oKyYqrveYHwBQSgA+Bvavvbth/OobX4kmslz54wv2tjqXLmeqkYwBYpOTWtVhywxfD8N5x%0Aiu/4gBX/kL/1hAkj5bjK0IuLAw4BeL/997ZXIO9CyZ0vHHc4n8/Hcb5Dxh0cHLz1fIVVSm7N02N5%0A/1zY5jefz/f29ra4PgDcDtvkprQYWBe+vtG1H8baW378hV265Ay/wZ2dnQl3tg7b4S7c+fr166dP%0An071EgDcTbbJrerFixcvXrxYvOfzzz9/8uTJ4gmtZ2dn483T09PFwbn7+/vDF6uM0t3d3X348OEf%0A//jHP/3pT7u7u+P9T58+ffr06R/+8If15/G+evVqxZW5xps3b7766qtJnn52dvZu67PiU169evXm%0AzZvVlz/hWxsMn4ednZ3xnsVPy1VWWeGnT59e8z+EVZbw6tWr77///q0PA+AOUnKrevbs2bNnzxbv%0AGRprsdWePHly7969xccs/x1dPSYODw+//PLL3//+9+M9+/v79+7dm+SyCi9fvrzRylzqzZs3f/vb%0A3/7xj3+s//QLP8zVrfiUly9f3rTkbvrWnj9//s0338xms/39/QtPPz4+vvDgq36ViwuZrfbulhc+%0A+s9//rPKEl6+fPmvf/3rrQ8D4C7a8rmzcbMfjhdZvjmc9DDevDs/8Ls2hWTYoXzTJaz+lI1OIVk+%0A9nFvb2/x6YvfumreyqUHUK7y6lf901787F3PFBKALsfJrWU4m+HCzcUrsY7fdXzb++qqY9T++c9/%0ALt4zHCt5fkWxXbqQdZycnPiwAXwIlNxahj/Pi+l2fsV84KHkKhfa2tbks+FIssFVx35tbtDGOyx5%0AxTGBV30qBmu+lwsLv+ZDCMD7x3Fy6zo5ORn+/I+VtvxHdPh7H/rjuq1pZPP5/Pz8fCibg4OD8x/u%0AOlwetDHh677bCI9rknf1X/dVb2T1JVT+hwDA5GyTm8CwJ2uYK7H4V3nYuzp03jBYbosr+VZ34SIE%0Aw4/o0iEsk+9/vH7Ja47weOvvevyoXNOjd/wDA8BdYJvcqpankCza3d199OjRF198sdwE8/n84cOH%0Av/zlLyc553Qqy1NITk9PF+dirLK2E47qOD09XX7R3d3d4Z4vvvjiyZMnly5kzSkk64/wWPbw4cNx%0AzUfDFJJf/epXwxuZz+dnZ2e7u7uLU2ZGn3/++SSzZlZkCglAl5Jb1fIUkmX37t27MIXk+Pj48PBw%0AxWEQt2l5Csnz589fv35905KbalTH8+fPxxf98ssvhweM63BVxi0+5nofffTRp59+uvzgNUd4DJNi%0Ahnc0rM9vfvOb5SeOj1l8I2Pt/fa3v/3LX/4yLmF/f//nP//5bX5gPvroo/v379/aywEwpS2eN/sh%0AmN1kGMRtWp5CMuwjPl84uXJxosqlJhzVMU4hGb5YfOlrdjKu/n6vctWSp/2t+XcHwIY4To7/N5w6%0AuonD0a46Fu3CZs7hWL2Tk5PFerv0wP8h9SZfz8HmRngMgbiJJQPwYbJ3dQLj0et3/LSGcWTGcqYs%0AXkVqMF4rdvWFvPV1l/3sZz9bvLl8vupgOEF4ccWmKq3z/ztVdlz4Jn6D5+fnufOXAWjY6hbB98GF%0Av80X9sot37MVy3Wyv7+/uHd18VurX4TgwpUMrrLix++tO3PTxp3X5ze5NAUAXM/e1XVd2Nq0ePOO%0AXNfh0j2b33zzzXCSwegdLkIw7aiOu7w5EwDuJiW3Qduarzu++tHR0e9+97trVuPo6Gg4Uu386qsC%0AHB8fX7OQ09PTo6OjC1emWsWHfDmpc4fKATARx8mta/HiqrMfbliaz+db3M50fHx8/diUcfLFZ599%0AdtVjXrx4cXx8fE2oDQv57LPPrsmy81s5Fu2O+2CzFYCN2rF5YH3D6QIXAmVol63/eJdPZRgsbxIb%0ADskf3sLOzs7w3fHmigsBAG6TvasTWN7CdEcy7ipXFdgwBGTotrfuGpZxALB1Sm4C49a4nf8zuzPH%0AQl04AG44p2G5wMYTGi4NuBUXAgDcMntXmc0u23/qgwEAd59tcvyAixAAQIhzV5nNXIQAAJpskwMA%0AqFJyAABVSo5LOFQOABIcJ8f/coQcAOSYQgIAUGXvKgBAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAq%0AJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJy%0AAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcA%0AUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABV%0ASg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXk%0AAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4A%0AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACq%0AlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJ%0AAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwA%0AQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBU%0AKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWS%0AAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkA%0AgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCo%0AUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgCol%0ABwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIA%0AAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQ%0ApeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVK%0ADgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQA%0AAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCg%0ASskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqU%0AHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskB%0AAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABA%0AlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQp%0AOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZID%0AAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCA%0AKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhS%0AcgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUH%0AAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAA%0AVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl%0A5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoO%0AAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAA%0AqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBK%0AyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQc%0AAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEA%0AVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECV%0AkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5%0AAIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMA%0AqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAq%0AJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJy%0AAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcA%0AUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABV%0ASg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXk%0AAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4A%0AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACq%0AlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJ%0AAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwA%0AQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBU%0AKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWS%0AAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkA%0AgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCo%0AUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgCol%0ABwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIA%0AAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQ%0ApeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVK%0ADgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQA%0AAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCg%0ASskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqU%0AHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskB%0AAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABA%0AlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQp%0AOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZID%0AAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCA%0AKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhS%0AcgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUH%0AAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAA%0AVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl%0A5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoO%0AAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAA%0AqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBK%0AyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQc%0AAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEA%0AVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECV%0AkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5%0AAIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMA%0AqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAq%0AJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJy%0AAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcA%0AUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABV%0ASg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXk%0AAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4A%0AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACq%0AlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJ%0AAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwA%0AQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBU%0AKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWS%0AAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkA%0AgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCo%0AUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgCol%0ABwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIA%0AAFVKDgCgSskBAFQpOQCAKiUHAFD1P2vx3q3Dmb7zAAAAAElFTkSuQmCC">
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Success! But what about tablature? It turns out that Lilypond uses a variant of Staff called TabStaff for tablature. Abjad does not have a TabStaff class but does allow you to override the tag used for a staff with a <code>context_name</code> argument:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">staff</span> <span class="o">=</span> <span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">,</span> <span class="n">context_name</span><span class="o">=</span><span class="s1">'TabStaff'</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA0MAAASdCAIAAAANMRBpAAAACXBIWXMAAA+IAAAPiAEWyKWGAAAA%0AHXRFWHRTb2Z0d2FyZQBHUEwgR2hvc3RzY3JpcHQgOC43MHQ4WKIAAB1SSURBVHic7d2xa5zn4cDx%0Aux+/sYtUKHQLTkO9GGpbQ6e2gw6ydjjR3WC3dC7S3kXXvUMF2cvdP1CwhiZTByseOjQhrYiHkMY0%0AvqGBQDvoN7z4cO3UPtmn6PeNP5/BnO70+n0sBP7yvM/7PuOzs7MRAABB/3PZAwAA4CUpOQCAKiUH%0AAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAA%0AVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiVHw2Kx%0A2NnZmUwmOzs7i8XivIcvl8uDg4PzHnVwcDCZTN58883JZHJycrL+gScnJ8Not7e3d3Z2znUsAKxv%0AfHZ2dtljgBc4Pj6eTCbz+Xw6nS4Wi729vbt37+7u7q557MHBwdBS5/ptPzo6ms1m9+7dWy6Xb775%0A5pUrV/72t7+teezOzs7p6em9e/e2tra2t7e3trYePXq0/qkBYE3m5AiYzWaj0WhIt+l0OhqN1p9g%0A293dvXfv3kucdLlcnp6ezmazra2t4cv1jz08PLx9+/bW1tZw1PA3AMDG/e9lDwBe7Pj4ePSfPfQ1%0AXK/c39+/efPm7u7u0JG3b99e/9jd3d3T09PJZLJcLm/evDmfzy9smAC81lxdXctwde/GjRvb29uX%0APZZvrE8++eTLL7/83ve+9+xHQ8mtflfH4/Ho8RTd8926detnP/vZ6pDhb/j973//zjvvvPDYu3fv%0Ajh6veNvf39/f318ul3fu3Fn/pKPHvzn7+/s/+MEPXnjS+/fv//rXv/7FL37xwlMAwEDJrWX4/3j9%0AtVm8hGE129BPT5lMJsfHx48ePRquV25vb9+8efNc10yfLLn1nZyc3Llz5/DwcHd3d7FYnJycHB4e%0AvvCo09PTnZ2dra2tYV3d+qcej8d+xwA4F+vkCNjf3x89npkb/lynqF7RcHl0NBrNZrPJZHJwcLB+%0AYw0XVUePRzu8BoCNs06OgN3d3fl8PpvNjo6OlsvlfD7/GiauDg4OlsvlSyzIu3Llynw+Pzo6Gp5d%0AMp1OhxIFgI1TcjRMp9PhrtXzOjo6Ojo6Gl7v7Ozcvn17zXsXXuU2hZceLQCci5LjG279dAOAHOvk%0ANmZvb29vb2/8n/aeMHz5Kqd4uY0KLtfR0dFLbMkAAKxDyW3AYrEYj8eLxWKxWEwfW300GI1G8/n8%0ApS/YnZ6e7u3tbW9vD882O5dL3HLq+Pj4zp071vsDwAVxdXUDVjNtqydNrN6ZTqcbeSrssIh+eJ7F%0AuQxTYqstp/b29tbfcurOnTtPbjk1mUzOteXUUJ/D4M87bABgHebkNub/5wr3y9pyarlcDveZnnfA%0AAMD6zMmdwzvvvDM8HuwpV69e/eCDDxaLxU9/+tPvf//7o9Hoz3/+8/DRv//971df2fb222//5Cc/%0AeerNP/7xj3/4wx9eeOzh4eGzW06tM6S333772S2n1j/pbDbb399/8lrwC0/67rvv/v3vf88tBNys%0Ajz76yJOBAVifkjuHGzduXL9+/dn3d3d333vvvffee+/atWs/+tGPRqPRn/70pw8++GA0Gv3yl798%0A9fO+8cYbX/nmmv/l7+7unpycHBwcDFtOnZ6ernPgcNLhxs9hi4ujo6Of//zn6xx7cHCwtbX11Bze%0ACw988ODBv/71r9e5Y2az2Xe/+93LHgUAJUruHK5fv/7fOuOp91cPMLu4LnnjjTe+svCeNWw5NWwD%0Ada4tp7a3t4ctp4Z/xWw2Ozw8XOekx48NX04mk5s3b77wpMfHx//4xz9e55IbjUbf+ta3LnsIAJQo%0AuQsx3Kz6/2Hl3HB59MqVK7PZbDabnZ6e/u53v1vz2OVyOXTVebecWkXbcIvGV26lCgC8Onc8NJyc%0AnAx7gI5Go52dnfUXk622nBomyU5PT9c8cLhbdrlcTiaTvb296XS6fgIOntxZYfUaANig8erBGTzH%0AsFBsuEC5zvcPc1F+tudycHBwcnLyOk/gjcfj9X/HAGBkTm5TnnzS2ytu5AAAsCYltxnT6XQIuNWO%0ADibkAICLpuQ2Y9jIYbWz6urLYRevSx4cAPANpeQ2Zj6fDzuunp2draboRo/vYwUA2DhPITmH+/fv%0AP/8bhh0Uhmd2rALu4cOHX7kzBE958ODBo0ePXvOf1RdffHHZQwCgRMmdw/vvv//555+v850ffvjh%0A6vVnn332mtfJmj7++GMl9+mnn172EAAoUXLncOvWrXM9hWRw7dq1dfZUYHgKyev8s5rNZm+99dZl%0AjwKAEuvkNs9TSACAr4eS2zy3OAAAXw8lt2HDddXpdDo8iAQA4OIouU0arqvKOADg66HkNmZvb+/J%0A66rT6fSpFwAAm+Xe1c0YMm6ItsViMR6PTcsBABdNyb28vb29IddWGfdUvU2n02GWbvjT5BwAsFlK%0A7uUNc2/D669cGzeU3JM7sQIAbND47OzssscQcHx8PJlMbty4sb29/eT7Dx8+/Oyzz65du/bfDnz4%0A8OFoNPrOd75z4UPs++tf//rPf/7z+vXrlz2QS3N8fPyb3/zmV7/61WUPBIAMc3LnMJvNnr/Hw2Kx%0AeOqmB1dU1zfs8XD37t3LHsilGY/Hr3PIAvASlNxmPHXj6mC1PM6lVQDgIngKyQaMx+Nn72lYvX5y%0AOR0AwAYpuVe12mV1Pp+v5t6GeThrEAGAC6XkNuYrl8RZJwcAXBwl96rm8/mQa6trrKP/vLQ68ggS%0AAOBiKLkNGC6kPnstdbUNq5k5AOAiKLmLspqiG+54ePbOVgCAV6TkLsR0Oj07O1tdeB09cWMEAMCm%0AeJ7cOdy/f//53/Db3/52NBr9+Mc/Pj4+Ho1GW1tbV69eXX06vMl/8+DBg0ePHr3mP6UvvvjisocA%0AQImSO4f333//888/f843vPvuu6PR6Ic//OEqRz788MPhxdWrV1/zRnmhjz/+WMl9+umnlz0EAEqU%0A3DncunXrObt1rR4OfHp6OtysulgsZrPZ8Olf/vKXr2eQXcNuXYeHh5c9kEszm83eeuutyx4FACXW%0Ayb2S4W6GvcdGjx84Mh6Ph/dHj9fMXfJAAYBvInNyr2TYy2FVbEPGzefzxWKxmqLzCBIA4IIouVf1%0AlVNuAg4A+Bq4ugoAUKXkAACqlBwAQJWSAwCoUnIAAFXuXT2H/f397e3tyx7FN9Ynn3zy5ZdfTiaT%0Ayx7Ipfn2t7/90UcfPefp0wDwlLGH1gIARLm6CgBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEA%0AVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECV%0AkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5%0AAIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMA%0AqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAq%0AJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJy%0AAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcA%0AUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABV%0ASg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXk%0AAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4A%0AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACq%0AlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJ%0AAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwA%0AQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBU%0AKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWS%0AAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkA%0AgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCo%0AUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgCol%0ABwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIA%0AAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQ%0ApeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVK%0ADgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQA%0AAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCg%0ASskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqU%0AHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskB%0AAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABA%0AlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQp%0AOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZID%0AAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCA%0AKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhS%0AcgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUH%0AAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAA%0AVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl%0A5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoO%0AAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAA%0AqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBK%0AyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQc%0AAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEA%0AVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECV%0AkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5%0AAIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMA%0AqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAq%0AJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJy%0AAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcA%0AUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABV%0ASg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXk%0AAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4A%0AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACq%0AlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJ%0AAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwA%0AQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBU%0AKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWS%0AAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkA%0AgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCo%0AUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgCol%0ABwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIA%0AAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQ%0ApeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVK%0ADgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQA%0AAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCg%0ASskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqU%0AHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskB%0AAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABA%0AlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQp%0AOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZID%0AAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCA%0AKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhS%0AcgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUH%0AAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAA%0AVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl%0A5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoO%0AAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAA%0AqpQcAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBK%0AyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQc%0AAECVkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEA%0AVCk5AIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECV%0AkgMAqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5%0AAIAqJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMA%0AqFJyAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAq%0AJQcAUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJy%0AAABVSg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcA%0AUKXkAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABV%0ASg4AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXk%0AAACqlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4A%0AoErJAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACq%0AlBwAQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJ%0AAQBUKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwA%0AQJWSAwCoUnIAAFVKDgCgSskBAFQpOQCAKiUHAFCl5AAAqpQcAECVkgMAqFJyAABVSg4AoErJAQBU%0AKTkAgColBwBQpeQAAKqUHABAlZIDAKhScgAAVUoOAKBKyQEAVCk5AIAqJQcAUKXkAACqlBwAQJWS%0AAwCoUnIAAFVKDgCgSskBAFQpOQCAqv8Df4XrHF0fW9AAAAAASUVORK5CYII=">
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There are a few things left I'd like to do, and I will update this post if I figure them out. First there is a lot of blank space around the output it would be nice to be rid of. Secondly I want to do guitar chord diagrams. My understanding is that these can be done in Lilypond with a tag <code>\fret-diagram-terse</code> but Abjad doesn't seem to support this so I will need to figure out how to extend it to support that. Watch this space.</p>

</div>
</div>
</div>
    </div>
  </div>

    </section><footer class="post-meta"><a href="authors/graham-wheeler.html">Graham Wheeler</a>

        on

        <time class="post-date" datetime="2016-02-27T20:00:00Z">
            2016-02-27 20:00
        </time></footer></article><article class="post post"><header class="post-header"><h2 class="post-title"><a href="posts/zite-replacement-10.html">Building a Zite Replacement (Part 10)</a></h2>
    </header><section class="post-excerpt"><div>
<p>I've spent the past few days refining the web server, largely for diagnostic
purposes, so it can replace the old TkInter app. I can seen articles for 
categories or feeds, their rank, and detailed information on why they 
received particular categories and ranks. This has enabled me to improve
the categorization and ranking algorithms. I'm at a point now where I 
feel I need a lot more sources than the ~4000 I have right now, as well as
more categories. The latter is more complex and will take me back to some
of my earlier explorations in clustering, etc. The former largely involves 
mining more of the web to find useful sites.</p>
<p>Currently doing a pull of the ~4000 sites takes several minutes on my 
low-power server. If I want to scale to 10x or more polling is not ideal.
So another change I have needed is to move to a push model. Thankfully
that's possible, through the use of the <a href="https://en.wikipedia.org/wiki/PubSubHubbub">PubSubHubbub</a> (aka PuSH). This is a Google-designed 
system whereby publishers can 
push notifications of updates to central servers that in turn support
subscriptions on clients for receiving notifications. There are commercial 
services for this (<a href="http://superfeedr.com">Superfeedr</a> seem's to be the main
player here) but there is also a publicly accessible server run by Google.</p>
<p>Using this is fairly straightforward. Here is a simple Python script for
subscribing or unsubscribing. You pass in a command (subscribe/unsubscribe), an
RSS feed URL you want notfications for, and a callback URL that the PuSH
server will call back to, both to confirm the subscription and to send
notifications to:</p>
<pre class="code literal-block"><span></span><span class="ch">#!python</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">urllib</span>
<span class="kn">import</span> <span class="nn">urllib2</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
  <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">4</span><span class="p">:</span>
    <span class="k">print</span> <span class="s2">"Usage: python pubsub.py (subscribe|unsubscribe) &lt;feed&gt; &lt;callback&gt;"</span> 
  <span class="k">else</span><span class="p">:</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">'hub.mode'</span><span class="p">:</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
        <span class="s1">'hub.verify'</span><span class="p">:</span> <span class="s1">'sync'</span><span class="p">,</span>
        <span class="s1">'hub.callback'</span><span class="p">:</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
        <span class="s1">'hub.topic'</span><span class="p">:</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
    <span class="p">}</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span>
            <span class="s2">"https://pubsubhubbub.appspot.com"</span><span class="p">,</span>  <span class="c1"># Google server</span>
            <span class="n">data</span><span class="o">=</span><span class="n">urllib</span><span class="o">.</span><span class="n">urlencode</span><span class="p">(</span><span class="n">params</span><span class="p">))</span>
        <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
      <span class="k">print</span> <span class="s1">'</span><span class="si">%s</span><span class="s1"> failed: </span><span class="si">%s</span><span class="s1">" % (command, str(e))</span>
</pre>


<p>You can include a verification token too in the params, and your callback
server can verify that to make sure that you did the subscribe request and 
not someone else.</p>
<p>The other part of this is the callback server. In my case I want to just fold
this in to my node server, so I added this code in my routes/index.js file. For
now I'm just writing the updates to a file. My callback URL is hostname/pubsub:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="nx">router</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'/pubsub'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">query</span><span class="p">[</span><span class="s1">'hub.challenge'</span><span class="p">])</span> <span class="p">{</span>
    <span class="c1">// Subscription verification request; send back challenge</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">query</span><span class="p">[</span><span class="s1">'hub.challenge'</span><span class="p">]);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// Update notification</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
    <span class="nx">fs</span><span class="p">.</span><span class="nx">appendFile</span><span class="p">(</span><span class="s1">'pubsub.txt'</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'\n'</span><span class="p">,</span>
      <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="p">}</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre>
</td>
</tr></table>
<p>You can find full details of the PuSH spec <a href="https://pubsubhubbub.googlecode.com/git/pubsubhubbub-core-0.4.html">here</a>.</p>
</div>
    </section><footer class="post-meta"><a href="authors/graham-wheeler.html">Graham Wheeler</a>

        on

        <time class="post-date" datetime="2015-11-07T08:30:00-08:00">
            2015-11-07 08:30
        </time></footer></article><article class="post post"><header class="post-header"><h2 class="post-title"><a href="posts/zite-replacement-9.html">Building a Zite Replacement (Part 9)</a></h2>
    </header><section class="post-excerpt"><div>
<p>Well, I hope you've all brushed your teeth after all that Halloween candy.</p>
<p>Today I'm going to show how I build a simple web server to view my feed
articles using node.js and Express, along with MongoDB. I have a simple 
category classifier which finds the best Jacard similarity (described earlier)
to a set of category exemplars (i.e. 'pseudo-articles' for a category
containing just key words that are typical for that category). It needs a
lot of tuning and the earlier tkInter program was meant for that but tkInter 
proved to have problems. So time to use some more modern techologies!</p>
<p>I gave an overview of node in an earlier article; if you have no familiarity
with node you should go read that first. I'm not going to go into 
much detail here about installation, etc; if you want to try this you can 
easily install node for your platform. We're going to generate a scaffold 
Express app with a generator, so we need to install that along with its
dependencies:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre>1</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span>npm install -g express-generator
</pre>
</td>
</tr></table>
<p>and then generate the skeleton in a 'server' subdirectory:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span>express server
<span class="nb">cd</span> server
</pre>
</td>
</tr></table>
<p>This skeleton will include a package.json file; we need to edit that and
add these to the end of the dependencies section (make sure to add a comma
on the previous last line in the dependencies):</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="s2">"mongodb"</span><span class="o">:</span> <span class="s2">"~2.0.33"</span><span class="p">,</span>
<span class="s2">"monk"</span><span class="o">:</span> <span class="s2">"~1.0.1"</span>
</pre>
</td>
</tr></table>
<p>Then install the dependencies:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="nb">cd</span> server
npm install
</pre>
</td>
</tr></table>
<p>Although we'll be adding some more and need to rerun this again later.</p>
<p>We need to tell node to use our database. To do that, we edit app.js
and before the line that says:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre>1</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="kd">var</span> <span class="nx">routes</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./routes/index'</span><span class="p">);</span>
</pre>
</td>
</tr></table>
<p>we add:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="kd">var</span> <span class="nx">mongo</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'mongodb'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">monk</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'monk'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">db</span> <span class="o">=</span> <span class="nx">monk</span><span class="p">(</span><span class="s1">'localhost:27017/feed_database'</span><span class="p">);</span>
</pre>
</td>
</tr></table>
<p>(I called my MongoDB feed_database; you would need to use a different name
for a different database).</p>
<p>To make the database accessible to our page handler, before the line that says:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre>1</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'/'</span><span class="p">,</span> <span class="nx">routes</span><span class="p">);</span>
</pre>
</td>
</tr></table>
<p>we add:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="nx">res</span><span class="p">,</span><span class="nx">next</span><span class="p">){</span>
    <span class="nx">req</span><span class="p">.</span><span class="nx">db</span> <span class="o">=</span> <span class="nx">db</span><span class="p">;</span>
    <span class="nx">next</span><span class="p">();</span>
<span class="p">});</span>
</pre>
</td>
</tr></table>
<p>This will add a property 'db' to each request that points to out database so
each request handler has easy access to the database.</p>
<p>Our server will use the local URL /categories for a page with the 
list of categories that have articles. Each of these will in turn link
to an /articles page which will show the titles of articles for that
category, and link back to the source. To set up the routes we need to edit
routes/index.js, and add our additions (before the modules.exports
line at the end):</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="cm">/* GET categories page. */</span>
<span class="nx">router</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'/categories'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">db</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">db</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">collection</span> <span class="o">=</span> <span class="nx">db</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'articles'</span><span class="p">);</span>
    <span class="nx">collection</span><span class="p">.</span><span class="nx">distinct</span><span class="p">(</span><span class="s1">'classification'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span> <span class="nx">docs</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">res</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="s1">'categories'</span><span class="p">,</span> <span class="p">{</span>
            <span class="s2">"categories"</span><span class="o">:</span> <span class="nx">docs</span>
        <span class="p">});</span>
    <span class="p">});</span>
<span class="p">});</span>

<span class="cm">/* GET articles page. */</span>
<span class="nx">router</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'/articles'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">db</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">db</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">collection</span> <span class="o">=</span> <span class="nx">db</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'articles'</span><span class="p">);</span>
    <span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="s1">'classification'</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">category</span><span class="p">},</span>
        <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span> <span class="nx">docs</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">res</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="s1">'articles'</span><span class="p">,</span> <span class="p">{</span>
                <span class="s2">"category"</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">category</span><span class="p">,</span>
                <span class="s2">"articles"</span><span class="o">:</span> <span class="nx">docs</span>
            <span class="p">});</span>
        <span class="p">}</span>
    <span class="p">);</span>
<span class="p">});</span>
</pre>
</td>
</tr></table>
<p>The /categories page router finds all distinct values for the 'classification'
field (which I use to put my categorization of an article, as they already
have a 'Category' field which is part of RSS). It then renders a page using
a 'categories' template and passes the template an object with a 'categories'
property which has the resulting document returned by the database. The
template engine is Jade which Express uses by default.</p>
<p>We'll look at the /article page route in a moment; first look at the 
template for the categories page which we create in file views/categories.jade:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span>extends layout

block content
  h1.
    Categories
  ul
    each category in categories
      li
        a(href="articles?category=#{category}")= category
</pre>
</td>
</tr></table>
<p>This is pretty simple. Jade uses indentation for hierarchy so that is important
to get correct. We create a heading and a list, with each list entry
being a category name in the form of a link to the /articles page with a 
query parameter for the category. Now the /articles router should be easy
to understand. We find all documents in the database that have the same
classification as was specified in the category query parameter in the request
URL, and render the page using the article template, passing that template
the article list and category name. That template looks like:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span>extends layout

block content
  h1.
    Articles for #{category}
  ul
    each article in articles
      li
        a(href="#{article.link}")= article.title
</pre>
</td>
</tr></table>
<p>Very similar to the category one except we put article titles in the list and
our links refer to the original article links, so clicking on a title will
take us to the web page for that article. Pretty simple!</p>
<p>Now we can run this:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre>1</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span>npm start
</pre>
</td>
</tr></table>
<p>and navigate to http://localhost:3000/categories to see what we might want to
read!</p>
</div>
    </section><footer class="post-meta"><a href="authors/graham-wheeler.html">Graham Wheeler</a>

        on

        <time class="post-date" datetime="2015-11-01T22:07:00-08:00">
            2015-11-01 22:07
        </time></footer></article><article class="post post"><header class="post-header"><h2 class="post-title"><a href="posts/zite-replacement-8.html">Building a Zite Replacement (Part 8)</a></h2>
    </header><section class="post-excerpt"><div>
<p>Happy Halloween, all!</p>
<p>I'm sitting here handing out candy and glow necklaces to all comers so its a
good time to write a new post.</p>
<p>It's been a while since much happened as I've been really busy with the beta 
release of Google Cloud Datalab, which is my day job. But now that is out and
it's the weekend and lousy weather here in the Pacific Northwest it's been a 
good day t get back to things.</p>
<p>Today I did something I've been meaning to do for a while, which is to change
the code to populate a MongoDB database rather than writing files to the file 
system. Interestingly it seems to be quite a bit slower than the file system 
but hopefully it will scale better and make up for things when I have ad-hoc
queries to do.</p>
<p>I hadn't used MongoDB before so it was a learning opportunity. Mongo is a 
no-SQL database that stores <em>collections</em> of <em>documents</em> in its databases,
rather than tables of records, so it is well suited
to storing the JSON RSS feed objects. It's very easy to use too. I modified
my exitisting code to take two callbacks, one to create an ID from an article, 
and the other to save the article give the ID. For the old code, the ID just
corresponds to the pathname of the file, and saving just saves the JSON as a
string to that file. The ID creator has a secondary role of checking if we have
already fetched that object before, in which case we don't need to save it.</p>
<p>Each document has a special unique key '_id', and can have secondary keys. The
document itself is an ordered set of keys with associated values (which can
themselves be documents), so this maps reasonably well to Javascript objects.
Keys are any UTF-8 strings but should avoid '$' and '.' which have special 
usage, and NUL which is used as a key terminator. Keys must be unique, and are case sensitive.</p>
<p>Collections (groups of documents) can store different types of documents; they do
not have a fixed schema. That said, it is generally more sensible and efficient
to keep similar documents in the same collection, and make use of multiple 
collections, rather than putting everything in one collection. Collection names
are non-empty UTF-8 strings that don't include NUL or '$' and don't start with 
'system.' (the latter two constraints are for implementation-specific reasons).</p>
<p>Database names should be non-empty alphanumeric ASCII strings of 64 bytes or less 
(not actually quite that restrictive but that's a good guideline). 'admin' is a
special root database, and 'config' is a special database that stores sharding 
information. 'local' is a database that can be used to store collections that should
not be replicated.</p>
<p>I now have an articles collection, and my
callbacks to use Mongo just look like this:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="kn">import</span> <span class="nn">pymongo</span>

<span class="k">def</span> <span class="nf">make_id</span><span class="p">(</span><span class="n">metadata</span><span class="p">):</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">[</span><span class="s1">'guid'</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">articles</span><span class="o">.</span><span class="n">find_one</span><span class="p">({</span><span class="s1">'guid'</span><span class="p">:</span> <span class="nb">id</span><span class="p">}):</span>
        <span class="c1"># We already have this article so no need to save it...</span>
        <span class="k">return</span> <span class="bp">None</span>
    <span class="k">return</span> <span class="nb">id</span>

<span class="k">def</span> <span class="nf">handler</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
    <span class="n">articles</span><span class="o">.</span><span class="n">insert_one</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>
</pre>
</td>
</tr></table>
<p>Very simple, no? But I'm getting a bit ahead of myself; it's worth mentioning 
how I installed Mongo. You can download it from mongodb.org. I went for 
version 2.6 rather than 3 as there is a nice free GUI tool for inspecting 
and querying the database called RoboMongo and it doesn't work yet with Mongo 3.</p>
<p>If you download the Mac version of Mongo you get compiled binaries, not an
installer. These need to be put in your path somewhere. I use Homebrew for 
some software on the Mac so I already have a /usr/local/bin directory in
my path, and just put the Mongo files there. I know, this is polluting the
Homebrew install somewhat, but it seemed the most practical anyway. You then
need to create a directory for the databases, which by default on the Mac should
be /data/db. Make sure you have write permission, or at least the user account
that is going to run the mongo server does. You can then start Mongo by running
'mongod' at the command line.</p>
<p>Mongo creates databases and collections when they are accessed which makes 
things very simple. The initial code in my fetcher looks like this:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">pymongo</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">pymongo</span><span class="o">.</span><span class="n">MongoClient</span><span class="p">()</span>
    <span class="c1"># Creates DB if needed</span>
    <span class="n">db</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">feed_database</span>
    <span class="c1"># Creates collection if needed</span>
    <span class="n">articles</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">articles</span>
    <span class="n">feedlist</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="k">else</span> <span class="s1">'feeds.txt'</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
    <span class="c1"># Do the fetch.</span>
</pre>
</td>
</tr></table>
<p>I mentioned before how I changed the fetcher to use parallel fetches. That 
uses the Python thread library, so the code continues:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span>    <span class="n">dictionary</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">feedlib</span><span class="o">.</span><span class="n">load_list</span><span class="p">(</span><span class="s1">'dictionary.txt'</span><span class="p">))</span>
    <span class="n">stop_words</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">feedlib</span><span class="o">.</span><span class="n">load_list</span><span class="p">(</span><span class="s1">'stopwords.txt'</span><span class="p">))</span>

    <span class="c1"># Spawn 20 fetchers</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">):</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">Fetcher</span><span class="p">(</span><span class="n">queue</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">articles</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">,</span> <span class="n">stop_words</span><span class="p">)</span>
        <span class="n">t</span><span class="o">.</span><span class="n">setDaemon</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">t</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

    <span class="c1"># Queue up the feeds and wait until done.</span>
    <span class="n">feed_list</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="k">else</span> <span class="s1">'feeds.txt'</span>
    <span class="k">for</span> <span class="n">feed</span> <span class="ow">in</span> <span class="n">feedlib</span><span class="o">.</span><span class="n">load_list</span><span class="p">(</span><span class="n">feed_list</span><span class="p">):</span>
        <span class="n">queue</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">feed</span><span class="p">)</span>
    <span class="n">queue</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</pre>
</td>
</tr></table>
<p>Each thread is handled by an instance of the Fetcher class:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="k">class</span> <span class="nc">Fetcher</span><span class="p">(</span><span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">queue</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">articles</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">,</span> <span class="n">stop_words</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Fetcher</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">queue</span> <span class="o">=</span> <span class="n">queue</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_start</span> <span class="o">=</span> <span class="n">start</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_articles</span> <span class="o">=</span> <span class="n">articles</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dictionary</span> <span class="o">=</span> <span class="n">dictionary</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_stop_words</span> <span class="o">=</span> <span class="n">stop_words</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">feed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">queue</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">feedlib</span><span class="o">.</span><span class="n">process_feed</span><span class="p">(</span><span class="n">feed</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dictionary</span><span class="p">,</span>
                                     <span class="bp">self</span><span class="o">.</span><span class="n">_stop_words</span><span class="p">,</span>
                                     <span class="n">start_date</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_start</span><span class="p">,</span>
                                     <span class="n">idmaker</span><span class="o">=</span><span class="n">idmaker</span><span class="p">,</span> <span class="n">handler</span><span class="o">=</span><span class="n">handler</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">"Failed to process </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="p">(</span><span class="n">feed</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
                <span class="k">print</span> <span class="n">msg</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">getlogger</span><span class="p">()</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">queue</span><span class="o">.</span><span class="n">task_done</span><span class="p">()</span>
</pre>
</td>
</tr></table>
</div>
    </section><footer class="post-meta"><a href="authors/graham-wheeler.html">Graham Wheeler</a>

        on

        <time class="post-date" datetime="2015-10-31T20:21:00-07:00">
            2015-10-31 20:21
        </time></footer></article><article class="post post"><header class="post-header"><h2 class="post-title"><a href="posts/node-npm-express.html">Node, npm and Express</a></h2>
    </header><section class="post-excerpt"><div>
<p>Things have been slow on the blogging front but there has been progress on the
Zite replacement. I'll write more about that soon but part of what I have been 
doing is looking into what server-side technology to use.</p>
<p>As far as a database goes, this seems like a no-brainer. I'm dealing with JSON
documents that I can either spend some effort on normalizing to put into a SQL 
database, or simply keep them as is and put them in a database that supports 
that form, and the obvious choice then is <a href="https://www.mongodb.org/">MongoDB</a>, 
which uses a binary form of JSON.</p>
<p>As for what to use to handle network requests, there I am torn between
<a href="http://www.tornadoweb.org/en/stable/">Tornado</a>
(which is Python) and <a href="https://nodejs.org/en/">Node.js</a> (Javascript). I'm not 
a big fan of Javascript 
(despite having implemented Javascript compilers and virtual machines twice in 
my life!), primarily because it relies too much on sneaky tricks to do things
like encapsulation and OOP, but it certainly is the closest to a first-class
language for MongoDB, so I'm doing the investigation. I've had a small amount
of exposure to Node.js at work but mostly as a user, not developer, so what
follows are some of my initial notes on the topic of Node.js, the npm package
manager, and the Express web framework. I hope you find them useful if these
are new to you.</p>
<h2>Node.js</h2>
<p>Node is a version of Chrome's v8 Javascript engine 
which includes a set of useful packages for server-side code (event-driven networking, 
file system etc) and a package manager, npm. Node was motivated by the need to handle 
large numbers of simultaneous sockets for HTTP long polling and web sockets; using 
separate threads or processes for each socket is too costly in resources (especially 
memory). Instead it uses the JS event loop and closure callbacks to scale efficiently.
 The underlying non-blocking socket code is written in C and wrapped in JS.</p>
<h2>CommonJS</h2>
<p>CommonJS is a suite of standardized APIs for using Javascript on the server,
addresses namespacing among other things. For the latter it includes three key
components:</p>
<ul>
<li>require() method used to load a module</li>
<li>exports object to expose code</li>
<li>module object</li>
</ul>
<p>Each module is a single JS file with isolated scope overridden by the exports object. 
E.g. consider a file hello.js:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="s1">'Hello'</span><span class="p">;</span>
<span class="nx">exports</span><span class="p">.</span><span class="nx">sayHello</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
<span class="p">}</span>
</pre>
</td>
</tr></table>
<p>which can then be used like:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="kd">var</span> <span class="nx">hello</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./hello'</span><span class="p">);</span>
<span class="nx">hello</span><span class="p">.</span><span class="nx">sayHello</span><span class="p">();</span>
</pre>
</td>
</tr></table>
<p>Alternatively we could have written:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Hello'</span><span class="p">);</span>
<span class="p">}</span>
</pre>
</td>
</tr></table>
<p>and used:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="kd">var</span> <span class="nx">hello</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./hello'</span><span class="p">);</span>
<span class="nx">hello</span><span class="p">();</span>
</pre>
</td>
</tr></table>
<h2>Node core modules</h2>
<p>Core modules are compiled into the node binary, and include 'fs' for file
system access, and 'http' for network support. They still need to be loaded
with require(). See <a href="http://nodejs.org/api">http://nodejs.org/api/</a> 
for more about the core modules.</p>
<h2>npm - The node package manager</h2>
<p>npm can install packages and their dependencies locally (in ./node_modules)
or globally with the -g option (in /usr/local/lib/node_modules). You would
typically install common build tools like grunt globally, and dependencies
for a project locally. </p>
<p>Note that dependencies are not installed at the top-level but within the
package directory. So if you do 'npm install express' then express's
dependencies will be installed in ./node_modules/express/node_modules directory.</p>
<p>You can specify package@version if you need a specific version. See
<a href="https://github/com/isaacs/node-semver">https://github/com/isaacs/node-semver</a>
for details on semantic versioning names.</p>
<p>Use 'npm uninstall' to remove a package (include -g for global packages), and 
'npm update' to update a package.</p>
<p>For multiple packages use a package.json file, with (at least) "name", "version"
 and "dependencies" entries. Use "npm init" to create a skeleton package.json.
 Then use "npm install"/"npm update" to install/update all dependencies specified 
 in the file. You can use "npm install <package> —save" to install a new package 
 and add it to package.json at the same time.</package></p>
<p>To use modules, use require(). If you just specify a name, node will first look 
in the core modules folder, then the node_modules/module folder. Alternatively 
you can specify an absolute or relative path (the .js extension is not needed). 
You can load an entire folder with a single require() if that folder has a 
package.json file (the "main" module will be returned from require()).</p>
<h2>The Connect module</h2>
<p>The Connect module builds on top of the http module, and allows the chaining of 
request handlers (e.g. for logging, static file handling, etc). Each handler 
has three arguments:</p>
<ul>
<li>req - the request object</li>
<li>res - the response object</li>
<li>next - the next handler in the chain</li>
</ul>
<p>Here is a simple server:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="kd">var</span> <span class="nx">connect</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'connect'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">connect</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">logger</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">method</span><span class="p">,</span> <span class="nx">req</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
    <span class="nx">next</span><span class="p">();</span>  <span class="c1">// chain to next handler</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">helloWorld</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">setHeader</span><span class="p">(</span><span class="s1">'Content-Type'</span><span class="p">,</span> <span class="s1">'text/plain'</span><span class="p">);</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="s1">'Hello world!'</span><span class="p">);</span>  <span class="c1">// send the response body, no next chaining</span>
<span class="p">}</span>

<span class="c1">// order is important when registering handlers</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">logger</span><span class="p">);</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">helloWorld</span><span class="p">);</span>

<span class="c1">// If we wanted the response to only work when user navigates to</span>
<span class="c1">// path /hello, we could have used:</span>
<span class="c1">//  app.use('/hello', helloWorld);</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="mi">8000</span><span class="p">);</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">app</span><span class="p">;</span>  <span class="c1">// optional, but useful to load module for tests</span>
</pre>
</td>
</tr></table>
<p>If this is in a file server.js, we can run it with 'node server' and access it at
http://localhost:8000</p>
<h2>Express web framework</h2>
<p><a href="http://expressjs.com/">Express</a> is a node web framework built on top of Connect. 
Here is the same server as before written using Express:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="kd">var</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'express'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">express</span><span class="p">();</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">method</span><span class="p">,</span> <span class="nx">req</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
   <span class="nx">next</span><span class="p">();</span>  <span class="c1">// chain to next handler</span>

<span class="p">});</span>
<span class="c1">// We can use app.use or specify a verb like get or post...</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'/hello'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// res.send will set Content-Type automatically, but you can </span>
    <span class="c1">// force JSON with res.json(). You can include an initial optional</span>
    <span class="c1">// first argument for the status code.</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'Hello world!'</span><span class="p">);</span> 
<span class="p">});</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="mi">8000</span><span class="p">);</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">app</span><span class="p">;</span>
</pre>
</td>
</tr></table>
<p>Request objects have methods to retrieve parameters, POST bodies, cookies,
etc, while the response objects have methods to set the status code, cookies,
headers, and do redirects.</p>
</div>
    </section><footer class="post-meta"><a href="authors/graham-wheeler.html">Graham Wheeler</a>

        on

        <time class="post-date" datetime="2015-10-26T21:53:00-07:00">
            2015-10-26 21:53
        </time></footer></article><article class="post post"><header class="post-header"><h2 class="post-title"><a href="posts/zite-replacement-7.html">Building a Zite Replacement (Part 7)</a></h2>
    </header><section class="post-excerpt"><div>
<p>It's been a while since the last post but I haven't been idle. Here are some of the things I've been up to:</p>
<ul>
<li>tweaking the code to parse content better </li>
<li>moving from IPython notebook to a library that I can use to do batch operations as well as interactive exploration modifying the code do do parallel fetches - or more precisely, to operate asynchronously; because of the Python GIL I still have just one thread for now. But I can kick off up to 40 HTTP requests at a time which speeds things up a lot, as I have about 4000 sites I'm working with now;</li>
<li>exploring the <a href="http://textblob.readthedocs.org/en/dev/">TextBlob library</a>, a library that sits above the <a href="http://www.nltk.org/">Python NLTK</a> and can parse sentences and words (more on that below)</li>
<li>building a GUI application with <a href="https://wiki.python.org/moin/TkInter">Tkinter</a> that lets me quickly view feeds, terms, categories and articles, delete feeds, tweak category examplars and see the results, and so on. This has been invaluable in building up and fine tuning my category examplars, although it is still a work in progress. It's been somewhat painful as I haven't used Tk in about two decades but I've mostly got it to do what I want.</li>
</ul>
<p>You can see a screenshot of the GUI below to get an idea of what it looks like:</p>
<p><a href="images/feedme_screenshot.png"><img alt="feedme app screenshot" src="images/feedme_screenshot.png" title="feedme app screenshot"></a></p>
<p>This is meant just for my use so its functional rather than polished.</p>
<p>The TextBlob library is worth investigating if you are considering doing anything like this. In the end I abandoned it because the code I have written for parsing sentences and words is almost as good and about an order of magnitude faster. But I will show the code I experimented with so you can see how easy it is to use. Below is the code for getting the term counts for an article downloaded with feedparser. Note that I still handle correcting the capitalization of initial words in sentences, and I use my own logic for extracting noun phrases; TextBlob has code for that but it is seemingly not very good. The key thing is to note that I don't have to do much at all to get at sentences and then at words within sentences:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="kn">from</span> <span class="nn">textblob</span> <span class="kn">import</span> <span class="n">TextBlob</span>

<span class="k">def</span> <span class="nf">get_article_terms</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">article</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">,</span> <span class="n">stop_words</span><span class="p">):</span>
    <span class="n">blob</span> <span class="o">=</span> <span class="n">TextBlob</span><span class="p">(</span><span class="n">title</span> <span class="o">+</span><span class="s1">'. '</span> <span class="o">+</span> <span class="n">strip_tags</span><span class="p">(</span><span class="n">article</span><span class="p">))</span>
    <span class="n">terms</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="n">blob</span><span class="o">.</span><span class="n">sentences</span><span class="p">:</span>
        <span class="n">first</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="n">noun_phrase</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">sentence</span><span class="o">.</span><span class="n">words</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">first</span><span class="p">:</span>
                <span class="n">first</span> <span class="o">=</span> <span class="bp">False</span>
                <span class="k">if</span> <span class="n">word</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dictionary</span> <span class="ow">and</span> \
                    <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">isupper</span><span class="p">():</span>
                <span class="n">noun_phrase</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">noun_phrase</span><span class="p">):</span>
                    <span class="n">terms</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">' '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">noun_phrase</span><span class="p">))</span>
                    <span class="n">noun_phrase</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">if</span> <span class="n">word</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stop_words</span><span class="p">:</span>
                    <span class="n">terms</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">noun_phrase</span><span class="p">):</span>
            <span class="n">terms</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">' '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">noun_phrase</span><span class="p">))</span>
    <span class="n">term_counts</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">Counter</span><span class="p">()</span>
    <span class="n">term_counts</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">terms</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">term_counts</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">terms</span><span class="p">)</span>
</pre>
</td>
</tr></table>
<p>Anyway, as I say, this works but it is slow and I have a much faster version:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="k">def</span> <span class="nf">get_article_terms</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">article</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">,</span> <span class="n">stop_words</span><span class="p">):</span>
    <span class="sd">""" Get the terms and counts from an article. Strip HTML tags and</span>
<span class="sd">    non-essential punctuation, whitespace, and single</span>
<span class="sd">    character 'words' like s that may come from punctuation removal.</span>
<span class="sd">    Try normalize initial letter case using the supplied dictionary.</span>
<span class="sd">    Remove stop words, and return a set of words and counts and a total count.</span>
<span class="sd">    """</span>
    <span class="n">article</span> <span class="o">=</span> <span class="n">title</span> <span class="o">+</span> <span class="s1">'. '</span> <span class="o">+</span> <span class="n">strip_tags</span><span class="p">(</span><span class="n">article</span><span class="p">)</span>
    <span class="c1"># replace non-ASCII chars with space. We keep '-', '.', ',', '\''.</span>
    <span class="n">article</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">r'[^A-Za-z0-9\.,\-</span><span class="se">\'</span><span class="s1">]+'</span><span class="p">,</span><span class="s1">' '</span><span class="p">,</span> <span class="n">article</span><span class="p">)</span>
    <span class="c1"># Split on '.' and check first words to see if they should be lower-cased.</span>
    <span class="n">sentences</span> <span class="o">=</span> <span class="n">article</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">'.'</span><span class="p">)</span>
    <span class="n">article</span> <span class="o">=</span> <span class="s1">''</span>
    <span class="k">for</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="n">sentences</span><span class="p">:</span>
        <span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">sentence</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">' '</span><span class="p">)</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="p">)]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">words</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dictionary</span> <span class="ow">and</span> <span class="n">words</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="p">:</span>
                <span class="n">words</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">words</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="n">words</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">','</span><span class="p">)</span>
        <span class="n">article</span> <span class="o">+=</span> <span class="s1">' '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>

    <span class="c1"># Look for consecutive sequences of capitalized words with no intervening</span>
    <span class="c1"># punctuation other than '-' and turn them into single terms with '_'</span>
    <span class="c1"># replacing space so we can temporariliy treat noun phrases as single words.</span>
    <span class="n">sentences</span> <span class="o">=</span> <span class="n">article</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">','</span><span class="p">)</span>
    <span class="n">article</span> <span class="o">=</span> <span class="s1">''</span>
    <span class="k">for</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="n">sentences</span><span class="p">:</span>
        <span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">sentence</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">' '</span><span class="p">)</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">words</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">isupper</span><span class="p">()</span> <span class="ow">and</span> <span class="n">words</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">isupper</span><span class="p">()</span> <span class="ow">and</span> <span class="n">words</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">'I'</span> \
                <span class="ow">and</span> <span class="n">words</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">'I'</span><span class="p">:</span>
                <span class="n">words</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">words</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="s1">'_'</span> <span class="o">+</span> <span class="n">words</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
                <span class="n">words</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="s1">''</span>
        <span class="n">words</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">' '</span><span class="p">)</span>
        <span class="n">article</span> <span class="o">+=</span> <span class="s1">' '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>

    <span class="c1"># replace non-ASCII chars with space. We keep '-' and underscore.</span>
    <span class="n">article</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">r'[^A-Za-z0-9\-_</span><span class="se">\'</span><span class="s1">]+'</span><span class="p">,</span><span class="s1">' '</span><span class="p">,</span> <span class="n">article</span><span class="p">)</span>
    <span class="c1"># Get the non-empty words that aren't stop words, and while</span>
    <span class="c1"># we are at it, fix up underscores in noun phrases.</span>
    <span class="n">terms</span> <span class="o">=</span> <span class="p">[</span><span class="n">term</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'_'</span><span class="p">,</span> <span class="s1">' '</span><span class="p">)</span> <span class="k">for</span> <span class="n">term</span> <span class="ow">in</span> <span class="n">article</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">' '</span><span class="p">)</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">term</span><span class="p">)</span> \
        <span class="ow">and</span> <span class="n">term</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stop_words</span><span class="p">]</span>

    <span class="n">term_counts</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">Counter</span><span class="p">()</span>
    <span class="n">term_counts</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">terms</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">term_counts</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">terms</span><span class="p">)</span>
</pre>
</td>
</tr></table>
<p>The next step for me is to start using my category examplars to categorize new articles on a daily basis so I have a manageable quantity I can sanity check. With a bit more tuning I want to build a simple web front end to this so I can open it up for others to try and provide feedback. Watch this space!</p>
</div>
    </section><footer class="post-meta"><a href="authors/graham-wheeler.html">Graham Wheeler</a>

        on

        <time class="post-date" datetime="2015-10-04T21:31:00-07:00">
            2015-10-04 21:31
        </time></footer></article><article class="post post"><header class="post-header"><h2 class="post-title"><a href="posts/zite-replacement-6.html">Building a Zite Replacement (Part 6)</a></h2>
    </header><section class="post-excerpt"><div>
<p>Following on from last episode, I took some of the clusters that had clear cohesion and made some initial category exemplars. Here are the first few:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="p">{</span><span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Art"</span><span class="p">,</span> <span class="s2">"terms"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"canvas"</span><span class="p">,</span> <span class="s2">"painting"</span><span class="p">,</span> <span class="s2">"pastels"</span><span class="p">,</span> <span class="s2">"sculpture"</span><span class="p">,</span> <span class="s2">"gallery"</span><span class="p">,</span> <span class="s2">"photography"</span><span class="p">,</span>
        <span class="s2">"landscape"</span><span class="p">,</span> <span class="s2">"portrait"</span><span class="p">,</span> <span class="s2">"still-life"</span><span class="p">,</span> <span class="s2">"exhibition"</span><span class="p">,</span> <span class="s2">"sketch"</span><span class="p">]}</span>
<span class="p">{</span><span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Literature"</span><span class="p">,</span> <span class="s2">"terms"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"novel"</span><span class="p">,</span> <span class="s2">"writer"</span><span class="p">,</span> <span class="s2">"plot"</span><span class="p">,</span> <span class="s2">"character"</span><span class="p">,</span> <span class="s2">"author"</span><span class="p">]}</span>
<span class="p">{</span><span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Religion"</span><span class="p">,</span> <span class="s2">"terms"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Jesus"</span><span class="p">,</span> <span class="s2">"Christianity"</span><span class="p">,</span> <span class="s2">"Allah"</span><span class="p">,</span> <span class="s2">"Islam"</span><span class="p">,</span> <span class="s2">"Judaism"</span><span class="p">,</span> <span class="s2">"Sufi"</span><span class="p">,</span>
        <span class="s2">"Hindu"</span><span class="p">,</span> <span class="s2">"karma"</span><span class="p">,</span> <span class="s2">"sprituality"</span><span class="p">,</span> <span class="s2">"faith"</span><span class="p">,</span> <span class="s2">"belief"</span><span class="p">,</span> <span class="s2">"priest"</span><span class="p">,</span> <span class="s2">"pastor"</span><span class="p">,</span> <span class="s2">"prayer"</span><span class="p">]}</span>
<span class="p">{</span><span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Cooking"</span><span class="p">,</span> <span class="s2">"terms"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"ingredients"</span><span class="p">,</span> <span class="s2">"bake"</span><span class="p">,</span> <span class="s2">"roast"</span><span class="p">,</span> <span class="s2">"fry"</span><span class="p">,</span> <span class="s2">"stir"</span><span class="p">,</span> <span class="s2">"cook"</span><span class="p">,</span> <span class="s2">"cooking"</span><span class="p">,</span>
        <span class="s2">"recipe"</span><span class="p">,</span> <span class="s2">"flour"</span><span class="p">,</span> <span class="s2">"sugar"</span><span class="p">,</span> <span class="s2">"butter"</span><span class="p">,</span> <span class="s2">"cups"</span><span class="p">,</span> <span class="s2">"cup"</span><span class="p">,</span> <span class="s2">"teaspoon"</span><span class="p">,</span> <span class="s2">"tablespoons"</span><span class="p">,</span> <span class="s2">"vanilla"</span><span class="p">]}</span>
</pre>
</td>
</tr></table>
<p>Note that these are deliberately in the same format as the articles in articles.txt, although without as many fields.</p>
<p>I then modified the code that reads in the articles file and calculates the TF-IDF similarity matrix to first read this file (categories.txt) so that these become the first 4 articles, then I recomputed the matrix.</p>
<p>I then sorted each item by similarity with each of these category items, and printed out the top 20, with:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="kn">import</span> <span class="nn">operator</span>

<span class="k">for</span> <span class="n">category</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
    <span class="k">print</span> <span class="s2">"===</span><span class="se">\n</span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="n">items</span><span class="p">[</span><span class="n">category</span><span class="p">][</span><span class="s1">'title'</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

    <span class="n">metrics</span> <span class="o">=</span> <span class="p">[[</span><span class="n">distance_matrix</span><span class="p">[</span><span class="n">category</span><span class="p">,</span> <span class="n">i</span><span class="p">],</span> <span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">))]</span>
    <span class="n">ranked</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">metrics</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">operator</span><span class="o">.</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">ranked</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">20</span><span class="p">]:</span>
        <span class="k">print</span> <span class="n">items</span><span class="p">[</span><span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]][</span><span class="s1">'title'</span><span class="p">]</span>
</pre>
</td>
</tr></table>
<p>The results are show below although I shortened it to 10 for brevity. As you can see we have good category classification. Obviously though there is a long way to go in adding more category records. One benefit of this approach is that unlike clustering, an item can occur in the top n list for multiple categories, which is desirable.</p>
<pre class="code literal-block"><span></span>ART
“Tapestry Hill,” contemporary landscape painting
Sailing off King Billie, oil painting on box canvas
Alcarte 2014 - Collective Exhibition
Contemporary cat painting “Feline Focus”
butterfly painting tutorial
"Two deckchairs" oil painting
Comment on Liverpool residents take a shot at creating the city’s biggest online photography exhibition by Debra Kurs
Exhibition Site
First portrait painting in oil paint (2nd stage) tutor Colin Pethick.
First portrait painting in oils, workshop with Colin Pethick (1st stage)
===
LITERATURE
Agent Orange
Gauntlet
In Which I Contemplate the Details
Author Kurt Andersen Pens Novel with PWD Perspective
Donald Trump will publish a new book in October. Will it be huuuge?
Comment on Book Review: Echo by Pam Muñoz Ryan by Anonymous
Comment on Writing Your Novel: Become Your Best First Editor by Writing Fiction Made Easier: Get Out Of Backstory Hell
PRATIBIMB - BOOK COVER PAGE DESIGN for India's young and dynamic writer Dr. Bhavesh Joshi (Bharavi).
What Is Best in Life?
Comment on LADIES AND GENTLEMEN… by eva
===
RELIGION
Comment on Children, a gift of Allah! by www.alquranonlinelearning.com
Marble Church Sermon
I hated Islam
Susan Carland - journey to Islam
Lauren Booth - My journey to Islam
Bart Ehrman - Jesus and Contradictions In The Bible
Convert to Islam 2013
Dr. Geoff Tunnicliffe - faith leaders on the forefront
Ten Reasons why Jesus (upon him peace) is not God
Islamic beliefs – Islam – ????? ????????
===
COOKING
Blueberry Pie Recipe
4th of July BBQ Hot Dog Cupcakes
Upside-Down Cake Recipe
Chocolate Ovaltine snacking cake - easy to make and delicious
Comment on Instant Raw Applesauce by 5 Things You Can Make In Your Blender That Aren't SmoothiesMy Weight Loss Blog | My Weight Loss Blog
Comment on Lemon Chiffon Cake Recipe by Katie
Cooking up a storm with our Crisis Program Cooking Group
Thai Basil Chicken
Skratch Recipe of the Week; Sweet Cream Grits
Comment on Foolproof Yorkshire Pudding Recipe by pearl
</pre>


<p>In summary, we can now take articles, extract a set of key terms, and assign them to one or more categories. There is obviously work to be done, tuning the categories over time and adding many more. One way to determine how to adjust the key terms for existing categories is to look at the top terms across all articles assigned to that category, and add them to the category terms if they aren't already present.</p>
<p>I'll probably be busy with this for a few days but once I have a good working system the next topic will be ranking. Ranking will work best in conjunction with crowdsourcing so I may need to build the system out as far as a simple web front end that can be used as a categorical RSS search engine. Watch this space for future developments!</p>
</div>
    </section><footer class="post-meta"><a href="authors/graham-wheeler.html">Graham Wheeler</a>

        on

        <time class="post-date" datetime="2015-09-24T20:31:00-07:00">
            2015-09-24 20:31
        </time></footer></article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="next">
                <a href="index-6.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="randomforest";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha256-SDRP1VVYu+tgAGKhddBSl5+ezofHKZeI+OzxakbIe/Y=" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});
        </script></main><footer class="site-footer clearfix"><section class="poweredby">Contents © 2018         <a href="mailto:gram@geekraver.com">Graham Wheeler</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </section></footer>
</div>

    <script type="text/javascript" src="assets/js/jquery.js"></script><script type="text/javascript" src="assets/js/jquery.fitvids.js"></script><script type="text/javascript" src="assets/js/index.js"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67535606-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
